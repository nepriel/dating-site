{"ast":null,"code":"import axios from \"axios/index\";\nimport { BLOCK_USER } from '../ActionType';\n\nfunction blockUser(token, blocked_userId, blocker_userId, dispatch) {\n  axios.post(process.env.REACT_APP_API_URL + \"/users/block\", {\n    blocked_userId: blocked_userId,\n    blocker_userId: blocker_userId\n  }, {\n    headers: {\n      \"Authorization\": \"Bearer \" + token\n    }\n  }).then(results => {\n    dispatch({\n      type: BLOCK_USER,\n      payload: results.data\n    });\n    setTimeout(() => {\n      dispatch({\n        type: BLOCK_USER,\n        payload: \"\"\n      });\n    }, 20);\n  }).catch(err => {\n    dispatch({\n      type: BLOCK_USER,\n      payload: false\n    });\n  });\n}\n\nexport function BlockThisUser(blocked_userId, checker) {\n  const token = localStorage.getItem(\"token\");\n  const blocker_userId = localStorage.getItem(\"userId\");\n  return async function (dispatch) {\n    await blockUser(token, blocked_userId, blocker_userId, dispatch);\n  };\n}\n;","map":{"version":3,"sources":["/usr/src/app/src/store/actions/UsersActions/BlockUserAction.js"],"names":["axios","BLOCK_USER","blockUser","token","blocked_userId","blocker_userId","dispatch","post","process","env","REACT_APP_API_URL","headers","then","results","type","payload","data","setTimeout","catch","err","BlockThisUser","checker","localStorage","getItem"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,aAAlB;AACA,SACIC,UADJ,QAEO,eAFP;;AAIA,SAASC,SAAT,CAAmBC,KAAnB,EAA0BC,cAA1B,EAA0CC,cAA1C,EAA0DC,QAA1D,EAAoE;AAChEN,EAAAA,KAAK,CAACO,IAAN,CAAWC,OAAO,CAACC,GAAR,CAAYC,iBAAZ,GAAgC,cAA3C,EAA2D;AACvDN,IAAAA,cAAc,EAAEA,cADuC;AAEvDC,IAAAA,cAAc,EAAEA;AAFuC,GAA3D,EAGG;AACCM,IAAAA,OAAO,EAAE;AACL,uBAAiB,YAAYR;AADxB;AADV,GAHH,EAQKS,IARL,CAQUC,OAAO,IAAI;AACbP,IAAAA,QAAQ,CAAC;AACLQ,MAAAA,IAAI,EAAEb,UADD;AAELc,MAAAA,OAAO,EAAEF,OAAO,CAACG;AAFZ,KAAD,CAAR;AAIAC,IAAAA,UAAU,CAAC,MAAM;AACbX,MAAAA,QAAQ,CAAC;AACLQ,QAAAA,IAAI,EAAEb,UADD;AAELc,QAAAA,OAAO,EAAE;AAFJ,OAAD,CAAR;AAIH,KALS,EAKP,EALO,CAAV;AAMH,GAnBL,EAoBKG,KApBL,CAoBWC,GAAG,IAAI;AACVb,IAAAA,QAAQ,CAAC;AACLQ,MAAAA,IAAI,EAAEb,UADD;AAELc,MAAAA,OAAO,EAAE;AAFJ,KAAD,CAAR;AAIH,GAzBL;AA0BH;;AAED,OAAO,SAASK,aAAT,CAAuBhB,cAAvB,EAAuCiB,OAAvC,EAAgD;AACnD,QAAMlB,KAAK,GAAGmB,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;AACA,QAAMlB,cAAc,GAAGiB,YAAY,CAACC,OAAb,CAAqB,QAArB,CAAvB;AAGA,SAAO,gBAAgBjB,QAAhB,EAA0B;AAC7B,UAAMJ,SAAS,CAACC,KAAD,EAAQC,cAAR,EAAwBC,cAAxB,EAAwCC,QAAxC,CAAf;AACH,GAFD;AAGH;AAAA","sourcesContent":["import axios from \"axios/index\";\nimport {\n    BLOCK_USER,\n} from '../ActionType';\n\nfunction blockUser(token, blocked_userId, blocker_userId, dispatch) {\n    axios.post(process.env.REACT_APP_API_URL + \"/users/block\", {\n        blocked_userId: blocked_userId,\n        blocker_userId: blocker_userId\n    }, {\n        headers: {\n            \"Authorization\": `Bearer ` + token\n        }\n    })\n        .then(results => {\n            dispatch({\n                type: BLOCK_USER,\n                payload: results.data,\n            })\n            setTimeout(() => {\n                dispatch({\n                    type: BLOCK_USER,\n                    payload: \"\",\n                })\n            }, 20)\n        })\n        .catch(err => {\n            dispatch({\n                type: BLOCK_USER,\n                payload: false,\n            })\n        });\n}\n\nexport function BlockThisUser(blocked_userId, checker) {\n    const token = localStorage.getItem(\"token\");\n    const blocker_userId = localStorage.getItem(\"userId\");\n    \n\n    return async function (dispatch) {\n        await blockUser(token, blocked_userId, blocker_userId, dispatch)\n    }\n};"]},"metadata":{},"sourceType":"module"}