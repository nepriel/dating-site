{"ast":null,"code":"import _defineProperty from\"/home/abn/my-projects/matcha-42/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/home/abn/my-projects/matcha-42/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/abn/my-projects/matcha-42/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/abn/my-projects/matcha-42/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/abn/my-projects/matcha-42/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/home/abn/my-projects/matcha-42/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/abn/my-projects/matcha-42/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React from\"react\";import{Link}from\"react-router-dom\";import{connect}from\"react-redux\";import{push}from\"react-router-redux\";import{LoginUser}from\"../../../store/actions/UsersActions/LoginUserAction\";import{ToastContainer}from'react-toastify';var customNotification=require('../utils/notification');var Login=/*#__PURE__*/function(_React$Component){_inherits(Login,_React$Component);function Login(props){var _this;_classCallCheck(this,Login);_this=_possibleConstructorReturn(this,_getPrototypeOf(Login).call(this,props));_this.state={password:\"\",email:\"\"};_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));_this.handlFormSubmit=_this.handlFormSubmit.bind(_assertThisInitialized(_this));return _this;}_createClass(Login,[{key:\"handlFormSubmit\",value:function handlFormSubmit(e){e.preventDefault();this.props.onLoginUser(this.state);}},{key:\"handleChange\",value:function handleChange(event){var target=event.target;var value=target.type==='checkbox'?target.checked:target.value;var name=target.name;this.setState(_defineProperty({},name,value));}},{key:\"UNSAFE_componentWillReceiveProps\",value:function UNSAFE_componentWillReceiveProps(nextProps){if(nextProps.loginUser.msg!==\"\"&&nextProps.loginUser.code===204)customNotification.fireNotification(\"error\",nextProps.loginUser.msg);}},{key:\"render\",value:function render(){return React.createElement(\"div\",{className:\"login-box\"},React.createElement(ToastContainer,null),React.createElement(\"div\",{className:\"login-logo\"},React.createElement(\"b\",null,\"Matcha\")),React.createElement(\"div\",{className:\"login-box-body\"},React.createElement(\"p\",{className:\"login-box-msg\"},\"Sign in to start your session\"),React.createElement(\"form\",{onSubmit:this.handlFormSubmit,encType:\"multipart/form-data\"},React.createElement(\"div\",{className:\"form-group has-feedback\"},React.createElement(\"input\",{required:true,type:\"text\",className:\"form-control\",name:\"email\",onChange:this.handleChange,placeholder:\"Email or Username\"}),React.createElement(\"span\",{className:\"glyphicon glyphicon-envelope form-control-feedback\"})),React.createElement(\"div\",{className:\"form-group has-feedback\"},React.createElement(\"input\",{required:true,type:\"password\",className:\"form-control\",name:\"password\",onChange:this.handleChange,placeholder:\"Password\"}),React.createElement(\"span\",{className:\"glyphicon glyphicon-lock form-control-feedback\"})),React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",{className:\"col-xs-8\"},React.createElement(\"div\",{className:\"checkbox icheck\"},React.createElement(\"label\",null,React.createElement(\"input\",{type:\"checkbox\"}),\" Remember Me\"))),React.createElement(\"div\",{className:\"col-xs-4\"},React.createElement(\"button\",{type:\"submit\",className:\"btn btn-primary btn-block btn-flat\"},\"Sign In\")))),React.createElement(Link,{to:\"/resetpwd\",onClick:this.props.navigateTo.bind(this,'/resetpwd')},\"Forgot your password ?\"),React.createElement(\"br\",null),React.createElement(Link,{to:\"/signup\",onClick:this.props.navigateTo.bind(this,'/signup')},\"Register a new membership\")));}}]);return Login;}(React.Component);;var state=function state(_state){var ownProps=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return{loginUser:_state.loginUser.authenticated,location:_state.location};};var mapDispatchToProps=function mapDispatchToProps(dispatch,ownProps){return{navigateTo:function navigateTo(location){dispatch(push(location));},onLoginUser:function onLoginUser(data){return dispatch(LoginUser(data));}};};export default connect(state,mapDispatchToProps)(Login);","map":{"version":3,"sources":["/home/abn/my-projects/matcha-42/frontend/src/components/pages/Login/Login.js"],"names":["React","Link","connect","push","LoginUser","ToastContainer","customNotification","require","Login","props","state","password","email","handleChange","bind","handlFormSubmit","e","preventDefault","onLoginUser","event","target","value","type","checked","name","setState","nextProps","loginUser","msg","code","fireNotification","navigateTo","Component","ownProps","authenticated","location","mapDispatchToProps","dispatch","data"],"mappings":"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","sourcesContent":["\nimport React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { push } from \"react-router-redux\";\nimport { LoginUser } from \"../../../store/actions/UsersActions/LoginUserAction\";\nimport { ToastContainer } from 'react-toastify';\nconst customNotification = require('../utils/notification');\n\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      password: \"\",\n      email: \"\",\n    }\n\n    this.handleChange = this.handleChange.bind(this);\n    this.handlFormSubmit = this.handlFormSubmit.bind(this);\n  }\n\n  handlFormSubmit(e) {\n    e.preventDefault();\n    this.props.onLoginUser(this.state)\n  }\n\n  handleChange(event) {\n    const target = event.target;\n    const value = target.type === 'checkbox' ? target.checked : target.value;\n    const name = target.name;\n\n    this.setState({\n      [name]: value\n    });\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    if (nextProps.loginUser.msg !== \"\" && nextProps.loginUser.code === 204)\n      customNotification.fireNotification(\"error\", nextProps.loginUser.msg)\n  }\n\n\n  render() {\n    return (\n      <div className=\"login-box\">\n        <ToastContainer />\n        <div className=\"login-logo\">\n          <b>Matcha</b>\n        </div>\n        <div className=\"login-box-body\">\n          <p className=\"login-box-msg\">Sign in to start your session</p>\n\n          <form onSubmit={this.handlFormSubmit} encType=\"multipart/form-data\">\n            <div className=\"form-group has-feedback\">\n              <input required type=\"text\" className=\"form-control\" name=\"email\" onChange={this.handleChange} placeholder=\"Email or Username\" />\n              <span className=\"glyphicon glyphicon-envelope form-control-feedback\"></span>\n            </div>\n            <div className=\"form-group has-feedback\">\n              <input required type=\"password\" className=\"form-control\" name=\"password\" onChange={this.handleChange} placeholder=\"Password\" />\n              <span className=\"glyphicon glyphicon-lock form-control-feedback\"></span>\n            </div>\n            <div className=\"row\">\n              <div className=\"col-xs-8\">\n                <div className=\"checkbox icheck\">\n                  <label>\n                    <input type=\"checkbox\" /> Remember Me\n                  </label>\n                </div>\n              </div>\n              <div className=\"col-xs-4\">\n                <button type=\"submit\" className=\"btn btn-primary btn-block btn-flat\">Sign In</button>\n              </div>\n            </div>\n          </form>\n\n\n          <Link to=\"/resetpwd\" onClick={this.props.navigateTo.bind(this, '/resetpwd')}>\n            Forgot your password ?\n          </Link><br></br>\n          <Link to=\"/signup\" onClick={this.props.navigateTo.bind(this, '/signup')}>\n            Register a new membership\n          </Link>\n        </div>\n      </div>\n    );\n  }\n};\n\nconst state = (state, ownProps = {}) => {\n  return {\n    loginUser: state.loginUser.authenticated,\n    location: state.location,\n  }\n}\n\nconst mapDispatchToProps = (dispatch, ownProps) => {\n  return {\n    navigateTo: (location) => {\n      dispatch(push(location));\n    },\n    onLoginUser: (data) => dispatch(LoginUser(data))\n  }\n};\n\nexport default connect(state, mapDispatchToProps)(Login);"]},"metadata":{},"sourceType":"module"}