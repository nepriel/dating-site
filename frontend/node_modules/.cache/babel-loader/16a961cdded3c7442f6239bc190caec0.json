{"ast":null,"code":"import _classCallCheck from\"/home/abn/my-projects/matcha-42/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/abn/my-projects/matcha-42/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/abn/my-projects/matcha-42/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/abn/my-projects/matcha-42/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/home/abn/my-projects/matcha-42/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import{Link}from\"react-router-dom\";import{connect}from\"react-redux\";import{push}from\"react-router-redux\";import io from'socket.io-client';export var NotificationItem=/*#__PURE__*/function(_Component){_inherits(NotificationItem,_Component);function NotificationItem(props){var _this;_classCallCheck(this,NotificationItem);_this=_possibleConstructorReturn(this,_getPrototypeOf(NotificationItem).call(this,props));_this.state={socket:io(process.env.REACT_APP_API_URL)};return _this;}_createClass(NotificationItem,[{key:\"UNSAFE_componentWillMount\",value:function UNSAFE_componentWillMount(){var room=localStorage.getItem(\"userId\");this.state.socket.connect(true);this.state.socket.emit('join',room);}},{key:\"componentDidMount\",value:function componentDidMount(){var room=localStorage.getItem(\"userId\");this.state.socket.emit('initNotification',room);}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){this.state.socket.disconnect(true);}},{key:\"render\",value:function render(){var _this$props$notif=this.props.notif,from=_this$props$notif.from,option=_this$props$notif.option,date=_this$props$notif.date,id=_this$props$notif.id;var type='';var styling={};var type_ico='';var message='';var type_message='';if(option.type==='message'){type='alert alert-success';type_ico='fa fa-envelope text-blue';type_message=' has sent you a message';styling={border:'1px solid blue'};//Salut Salut je m'apelle Patricia et mon prenom commence par un P comme patapouf\nif(option.message!==null)message=option.message;}else if(option.type==='visit'){type='alert alert-warning';type_ico='fa fa-eye';type_message=' has visited profil.';}else if(option.type==='like'){type='alert alert-info';type_ico='fa fa-thumbs-up';type_message=' liked your profile';}else if(option.type==='dislike'){type='alert alert-warning';type_ico='fa fa-thumbs-down';type_message=' disliked your profile';}else if(option.type==='block'){type='alert alert-danger';type_ico='fa fa-ban';type_message=' blocked your profile';}else if(option.type==='report'){type='alert alert-danger';type_ico='fa fa-ban';type_message=' reported your profile';}else if(option.type==='unlike'){type='alert alert-info';type_ico='fa fa-trash';type_message=' unliked your profile';}if(option.read===true){type='alert alert-success';styling={};if(option.type==='message'){type_ico='fa fa-envelope';}}return React.createElement(\"div\",{className:type,style:styling},React.createElement(\"div\",{className:\"\",style:{display:'flex',justifyContent:'center'}},React.createElement(\"div\",{className:\"col-md-auto\"},React.createElement(\"i\",{className:type_ico,style:{marginRight:'10px'}}),React.createElement(Link,{style:{color:'white',textDecoration:'none'},to:\"/profiledetail/\".concat(id),onClick:this.props.navigateTo.bind(this,\"/profiledetail/\".concat(id))},React.createElement(\"span\",null,React.createElement(\"strong\",{style:{color:'white',textDecoration:'none',marginRight:'4px'}},from))),type_message,\" \",React.createElement(\"em\",null,message)),React.createElement(\"div\",{className:\"col col-lg-2\"},date)));}}]);return NotificationItem;}(Component);var state=function state(_state){var ownProps=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return{location:_state.location};};var mapDispatchToProps=function mapDispatchToProps(dispatch,ownProps){return{navigateTo:function navigateTo(location){dispatch(push(location));}};};export default connect(state,mapDispatchToProps)(NotificationItem);","map":{"version":3,"sources":["/home/abn/my-projects/matcha-42/frontend/src/components/pages/Notifications/NotificationItem.js"],"names":["React","Component","Link","connect","push","io","NotificationItem","props","state","socket","process","env","REACT_APP_API_URL","room","localStorage","getItem","emit","disconnect","notif","from","option","date","id","type","styling","type_ico","message","type_message","border","read","display","justifyContent","marginRight","color","textDecoration","navigateTo","bind","ownProps","location","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { push } from \"react-router-redux\";\nimport io from 'socket.io-client';\n\nexport class NotificationItem extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            socket: io(process.env.REACT_APP_API_URL),\n        }\n    }\n\n    UNSAFE_componentWillMount() {\n        let room = localStorage.getItem(\"userId\");\n        this.state.socket.connect(true);\n        this.state.socket.emit('join', room);\n    }\n\n    componentDidMount() {\n        let room = localStorage.getItem(\"userId\");\n        this.state.socket.emit('initNotification', room)\n    }\n\n    componentWillUnmount() {\n        this.state.socket.disconnect(true);\n    }\n\n    render() {\n\n        const { from, option, date, id } = this.props.notif;\n        let type = '';\n        let styling = {};\n        let type_ico = '';\n        let message = '';\n        let type_message = '';\n        if (option.type === 'message') {\n            type = 'alert alert-success';\n            type_ico = 'fa fa-envelope text-blue';\n            type_message = ' has sent you a message';\n            styling = { border: '1px solid blue' };\n            //Salut Salut je m'apelle Patricia et mon prenom commence par un P comme patapouf\n            if (option.message !== null)\n                message = option.message;\n        } else if (option.type === 'visit') {\n            type = 'alert alert-warning';\n            type_ico = 'fa fa-eye';\n            type_message = ' has visited profil.';\n        } else if (option.type === 'like') {\n            type = 'alert alert-info';\n            type_ico = 'fa fa-thumbs-up';\n            type_message = ' liked your profile'\n        } else if (option.type === 'dislike') {\n            type = 'alert alert-warning';\n            type_ico = 'fa fa-thumbs-down';\n            type_message = ' disliked your profile'\n        } else if (option.type === 'block') {\n            type = 'alert alert-danger';\n            type_ico = 'fa fa-ban';\n            type_message = ' blocked your profile'\n        }  else if (option.type === 'report') {\n            type = 'alert alert-danger';\n            type_ico = 'fa fa-ban';\n            type_message = ' reported your profile'\n        } else if (option.type === 'unlike') {\n            type = 'alert alert-info';\n            type_ico = 'fa fa-trash';\n            type_message = ' unliked your profile'\n        }\n\n        if (option.read === true) {\n            type = 'alert alert-success';\n            styling = {};\n            if (option.type === 'message') {\n                type_ico = 'fa fa-envelope';\n            }\n        }\n\n        return (\n            <div className={type} style={styling}>\n                <div className=\"\" style={{ display: 'flex', justifyContent: 'center' }}>\n                    <div className=\"col-md-auto\">\n                        <i className={type_ico} style={{ marginRight: '10px' }}></i>\n                        <Link style={{ color: 'white', textDecoration: 'none'}} to={`/profiledetail/${id}`} onClick={this.props.navigateTo.bind(this, `/profiledetail/${id}`)}>\n                            <span><strong style={{ color: 'white', textDecoration: 'none', marginRight: '4px' }}>{from}</strong></span>\n                        </Link>\n                        {type_message} <em>{message}</em>\n                    </div>\n                    <div className=\"col col-lg-2\">\n                        {date}\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\n\nconst state = (state, ownProps = {}) => {\n    return {\n        location: state.location,\n    }\n}\n\nconst mapDispatchToProps = (dispatch, ownProps) => {\n    return {\n        navigateTo: (location) => {\n            dispatch(push(location));\n        },\n    }\n};\n\nexport default connect(\n    state,\n    mapDispatchToProps\n)(NotificationItem);\n"]},"metadata":{},"sourceType":"module"}