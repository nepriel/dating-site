{"ast":null,"code":"var _jsxFileName = \"/usr/src/app/src/components/pages/Chat/chat.js\";\nimport React from \"react\";\nimport Header from '../../common/Header';\nimport Sidebar from '../../common/SideBar';\nimport Footer from '../../common/Footer';\nimport { connect } from \"react-redux\";\nimport { push } from \"react-router-redux\";\nimport './chat.css';\nimport { GetuserChatContact } from '../../../store/actions/UsersActions/GetUserChatContactAction';\nimport Moment from 'moment';\nimport { GetCurrentUserInfo } from '../../../store/actions/UsersActions/FetchCurrentUserInfoAction';\nimport { saveUserChatAction } from '../../../store/actions/UsersActions/SaveUserchatMsgAction';\nimport { GetuserChatMsg } from '../../../store/actions/UsersActions/GetUserChatMessagesAction';\nimport io from 'socket.io-client';\n\nclass Chat extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      socket: io(process.env.REACT_APP_API_URL),\n      firstname: \"\",\n      lastname: \"\",\n      profilePhoto: \"\",\n      msgContent: \"\",\n      allUserChatContact: [],\n      messagesInfo: [],\n      initChatMessage: React.createElement(\"li\", {\n        className: \"left clearfix\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 27\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"chat-img1 pull-left\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 28\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: \"https://lh6.googleusercontent.com/-y-MY2satK-E/AAAAAAAAAAI/AAAAAAAAAJU/ER_hFddBheQ/photo.jpg\",\n        alt: \"User Avatar\",\n        className: \"img-circle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 29\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"chat-body1 clearfix\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 31\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 32\n        },\n        __self: this\n      }, \"Hello I am a robot. Welcome to your chat box choose a user to start chatting.\"), React.createElement(\"div\", {\n        className: \"chat_time pull-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33\n        },\n        __self: this\n      }, \"09:40PM\")))\n    };\n    this.sendMessageToUser = this.sendMessageToUser.bind(this);\n    this.selectChatContact = this.selectChatContact.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  componentDidMount() {\n    let room = localStorage.getItem(\"userId\");\n    this.state.socket.connect(true);\n    this.state.socket.emit('join', room);\n    this.state.socket.on(\"send-new-msg\", msg => {\n      console.log(\"msg :\", msg, this.state.messagesInfo);\n      let allMsg = this.state.messagesInfo;\n      allMsg.messages.push(msg);\n      this.setState({\n        messagesInfo: allMsg\n      });\n      var elmnt = document.getElementById(\"content\");\n      elmnt.scrollIntoView();\n    });\n  }\n\n  handleChange(event) {\n    event.preventDefault();\n    const target = event.target;\n    const value = target.type === 'checkbox' ? target.checked : target.value;\n    const name = target.name;\n    this.setState({\n      [name]: value\n    });\n  }\n\n  sendMessageToUser(e) {\n    e.preventDefault();\n    let Allmessages = [];\n    let socketMsg = {};\n\n    if (this.state.messagesInfo.length !== 0 && this.state.messagesInfo.messages) {\n      Allmessages = this.state.messagesInfo;\n      socketMsg = {\n        pos: \"right\",\n        photo: this.state.profilePhoto,\n        msgData: this.state.msgContent,\n        data: Moment()\n      };\n      Allmessages.messages.push({\n        pos: \"right\",\n        photo: this.state.profilePhoto,\n        msgData: this.state.msgContent,\n        data: Moment()\n      });\n      this.setState({\n        messagesInfo: Allmessages\n      });\n      this.props.onsaveUserChatAction(Allmessages);\n      setTimeout(() => {\n        this.state.socket.emit('new-msg', {\n          msg: socketMsg,\n          room: this.state.messagesInfo.dest_userId\n        });\n        this.setState({\n          msgContent: \"\"\n        });\n        let data = {\n          id: parseInt(this.state.messagesInfo.source_userId) + parseInt(this.state.messagesInfo.dest_userId),\n          title: \"message\",\n          fullname: \"\",\n          msg: \" messaged you on chatApp \",\n          likerId: parseInt(this.state.messagesInfo.source_userId),\n          likedId: parseInt(this.state.messagesInfo.dest_userId),\n          time: Moment()\n        };\n        this.state.socket.emit('likeUser', data);\n      }, 200);\n    } else {\n      console.log(\"Please choose a user to chat with !\");\n    }\n\n    var elmnt = document.getElementById(\"content\");\n    elmnt.scrollIntoView();\n  }\n\n  async UNSAFE_componentWillMount() {\n    let userId = localStorage.getItem(\"userId\");\n    await this.props.onGetCurrentUserInfo(userId);\n    await this.props.onGetuserChatContact();\n  }\n\n  async selectChatContact(e, user) {\n    e.preventDefault();\n    let userId = localStorage.getItem(\"userId\");\n    await this.props.onGetuserChatMsg(user.userId); // Get all user messages sorted by date\n    // init user objs\n\n    this.setState({\n      messagesInfo: {\n        dest_userId: user.userId,\n        source_userId: userId,\n        dest_fullname: user.fullname,\n        dest_photo: user.profilePhoto,\n        messages: []\n      }\n    });\n    setTimeout(() => {\n      var elmnt = document.getElementById(\"content\");\n      elmnt.scrollIntoView();\n    }, 20);\n  }\n\n  getProfilePicture(pictures, state) {\n    let pics = [];\n    let i = 0;\n\n    while (i < pictures.length) {\n      if (pictures[i].state === state) pics.push(pictures[i].path);\n      i++;\n    }\n\n    return pics;\n  }\n\n  initProfileInformation(data) {\n    let userInfo = data.info;\n    let profilePhoto = this.getProfilePicture(data.pictures, 1);\n    this.setState({\n      firstname: userInfo.firstname,\n      lastname: userInfo.lastname,\n      profilePhoto: profilePhoto.length > 0 ? profilePhoto : \"\"\n    });\n  }\n\n  initMegList(msgs) {\n    if (msgs && msgs.length > 0) {\n      let msgsList = [];\n      msgsList = msgs.map(msg => {\n        console.log(msg.source_user_id, parseInt(this.state.messagesInfo.source_userId));\n        return {\n          pos: msg.source_user_id === parseInt(this.state.messagesInfo.source_userId) ? \"right\" : \"left\",\n          photo: msg.source_user_id === parseInt(this.state.messagesInfo.source_userId) ? this.state.profilePhoto : this.state.messagesInfo.dest_photo,\n          msgData: msg.message_text,\n          date: msg.createdAt\n        };\n      });\n      let msgInfo = this.state.messagesInfo;\n      msgInfo.messages = msgsList;\n      this.setState({\n        messagesInfo: msgInfo\n      });\n    }\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    if (nextProps.getContactChat !== \"\" && nextProps.getContactChat.code === 200) {\n      this.setState({\n        allUserChatContact: nextProps.getContactChat.data\n      });\n    }\n\n    if (nextProps.getUserChatMsg !== \"\" && nextProps.getUserChatMsg.code === 200) {\n      console.log(\"Data fetched \");\n      this.initMegList(nextProps.getUserChatMsg.data);\n    }\n\n    if (nextProps.getCurrentProfileInfo.data) this.initProfileInformation(nextProps.getCurrentProfileInfo.data);\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212\n      },\n      __self: this\n    }, React.createElement(Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213\n      },\n      __self: this\n    }), React.createElement(Sidebar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"content-wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216\n      },\n      __self: this\n    }, React.createElement(\"section\", {\n      className: \"content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217\n      },\n      __self: this\n    }, React.createElement(\"section\", {\n      className: \"content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-md-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"box box-primary\",\n      id: \"fixMarginTop\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"box-header with-border\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      className: \"box-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224\n      },\n      __self: this\n    }, \"Chat\"), React.createElement(\"div\", {\n      className: \"box-tools pull-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-box-tool\",\n      \"data-widget\": \"collapse\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-minus\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-box-tool\",\n      \"data-widget\": \"remove\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-times\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229\n      },\n      __self: this\n    })))), React.createElement(\"div\", {\n      className: \"box-body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-md-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        'height': '100px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-sm-3 chat_sidebar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"custom-search-input\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"input-group col-md-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      className: \"  search-query form-control\",\n      placeholder: \"Conversation\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      className: \"btn btn-danger\",\n      type: \"button\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \" glyphicon glyphicon-search\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244\n      },\n      __self: this\n    })))), React.createElement(\"div\", {\n      className: \"member_list\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      className: \"list-unstyled\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250\n      },\n      __self: this\n    }, this.state.allUserChatContact ? this.state.allUserChatContact.map((user, i) => {\n      return React.createElement(\"li\", {\n        key: i,\n        onClick: e => {\n          this.selectChatContact(e, user);\n        },\n        className: \"left clearfix\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 253\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"chat-img pull-left\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 254\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: process.env.REACT_APP_API_URL + \"/\" + user.profilePhoto,\n        alt: \"User Avatar\",\n        className: \"img-circle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 255\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"chat-body clearfix\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 260\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"header_sec\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 261\n        },\n        __self: this\n      }, React.createElement(\"strong\", {\n        className: \"primary-font\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 262\n        },\n        __self: this\n      }, user.fullname)), React.createElement(\"div\", {\n        className: \"contact_sec\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 266\n        },\n        __self: this\n      })));\n    }) : \"\")))), React.createElement(\"div\", {\n      className: \"col-sm-9 message_section\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 278\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 279\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"new_message_head\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 280\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"pull-left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-plus-square-o\",\n      \"aria-hidden\": \"true\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281\n      },\n      __self: this\n    }), \" New Message\")), React.createElement(\"div\", {\n      className: \"pull-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"dropdown\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"dropdown-toggle\",\n      type: \"button\",\n      id: \"dropdownMenu1\",\n      \"data-toggle\": \"dropdown\",\n      \"aria-haspopup\": \"true\",\n      \"aria-expanded\": \"false\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 282\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-cogs\",\n      \"aria-hidden\": \"true\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283\n      },\n      __self: this\n    }), \"  Setting\", React.createElement(\"span\", {\n      className: \"caret\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284\n      },\n      __self: this\n    })), React.createElement(\"ul\", {\n      className: \"dropdown-menu dropdown-menu-right\",\n      \"aria-labelledby\": \"dropdownMenu1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: \"#\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287\n      },\n      __self: this\n    }, \"Action\")), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 288\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: \"#\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 288\n      },\n      __self: this\n    }, \"Profile\")), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: \"#\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289\n      },\n      __self: this\n    }, \"Logout\")))))), React.createElement(\"div\", {\n      className: \"chat_area\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 294\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      className: \"list-unstyled\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 295\n      },\n      __self: this\n    }, this.state.messagesInfo.length === 0 ? this.state.initChatMessage : \"\", this.state.messagesInfo.length !== 0 && this.state.messagesInfo.messages.length === 0 ? React.createElement(\"li\", {\n      className: \"left clearfix\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 298\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"chat-body1 clearfix\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 299\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 300\n      },\n      __self: this\n    }, \"Now chatting with \", React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 300\n      },\n      __self: this\n    }, this.state.messagesInfo.dest_fullname)), React.createElement(\"div\", {\n      className: \"chat_time pull-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301\n      },\n      __self: this\n    }, \"09:40PM\"))) : \"\", this.state.messagesInfo.length !== 0 && this.state.messagesInfo.messages.length > 0 ? this.state.messagesInfo.messages.map((msg, i) => {\n      return React.createElement(\"li\", {\n        key: i,\n        className: \"left clearfix admin_chat\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 320\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: 'chat-img1 pull-' + msg.pos,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 321\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: process.env.REACT_APP_API_URL + \"/\" + msg.photo,\n        alt: \"User Avatar\",\n        className: \"img-circle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 322\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"chat-body1 clearfix\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 326\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 327\n        },\n        __self: this\n      }, msg.msgData), React.createElement(\"div\", {\n        className: \"chat_time pull-left\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 328\n        },\n        __self: this\n      }, Moment(msg.date).fromNow())));\n    }) : \"\", React.createElement(\"li\", {\n      style: {\n        'marginBottom': '1.5vw'\n      },\n      id: \"content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 336\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"message_write\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 340\n      },\n      __self: this\n    }, React.createElement(\"textarea\", {\n      className: \"form-control\",\n      name: \"msgContent\",\n      value: this.state.msgContent,\n      onChange: this.handleChange,\n      placeholder: \"type a message\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 341\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"clearfix\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 342\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      onClick: e => {\n        this.sendMessageToUser(e);\n      },\n      className: \"chat_bottom\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 343\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: \"#\",\n      className: \"pull-left btn btn-success\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 344\n      },\n      __self: this\n    }, \"Send\"))))))))))))))))), React.createElement(Footer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 364\n      },\n      __self: this\n    }));\n  }\n\n}\n\nconst state = (state, ownProps = {}) => {\n  return {\n    getUserChatMsg: state.getUserChatMsg.getUserChatMsg,\n    getCurrentProfileInfo: state.getCurrentProfileInfo.getCurrentProfileInfo,\n    getContactChat: state.getContactChat.getContactChat,\n    location: state.location\n  };\n};\n\nconst mapDispatchToProps = (dispatch, ownProps) => {\n  return {\n    navigateTo: location => {\n      dispatch(push(location));\n    },\n    onGetuserChatContact: () => dispatch(GetuserChatContact()),\n    onGetCurrentUserInfo: userId => dispatch(GetCurrentUserInfo(userId)),\n    onsaveUserChatAction: data => dispatch(saveUserChatAction(data)),\n    onGetuserChatMsg: dest_userId => dispatch(GetuserChatMsg(dest_userId))\n  };\n};\n\nexport default connect(state, mapDispatchToProps)(Chat);","map":{"version":3,"sources":["/usr/src/app/src/components/pages/Chat/chat.js"],"names":["React","Header","Sidebar","Footer","connect","push","GetuserChatContact","Moment","GetCurrentUserInfo","saveUserChatAction","GetuserChatMsg","io","Chat","Component","constructor","props","state","socket","process","env","REACT_APP_API_URL","firstname","lastname","profilePhoto","msgContent","allUserChatContact","messagesInfo","initChatMessage","sendMessageToUser","bind","selectChatContact","handleChange","componentDidMount","room","localStorage","getItem","emit","on","msg","console","log","allMsg","messages","setState","elmnt","document","getElementById","scrollIntoView","event","preventDefault","target","value","type","checked","name","e","Allmessages","socketMsg","length","pos","photo","msgData","data","onsaveUserChatAction","setTimeout","dest_userId","id","parseInt","source_userId","title","fullname","likerId","likedId","time","UNSAFE_componentWillMount","userId","onGetCurrentUserInfo","onGetuserChatContact","user","onGetuserChatMsg","dest_fullname","dest_photo","getProfilePicture","pictures","pics","i","path","initProfileInformation","userInfo","info","initMegList","msgs","msgsList","map","source_user_id","message_text","date","createdAt","msgInfo","UNSAFE_componentWillReceiveProps","nextProps","getContactChat","code","getUserChatMsg","getCurrentProfileInfo","render","fromNow","ownProps","location","mapDispatchToProps","dispatch","navigateTo"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Header from '../../common/Header';\nimport Sidebar from '../../common/SideBar';\nimport Footer from '../../common/Footer';\nimport { connect } from \"react-redux\";\nimport { push } from \"react-router-redux\";\nimport './chat.css';\nimport { GetuserChatContact } from '../../../store/actions/UsersActions/GetUserChatContactAction';\nimport Moment from 'moment';\nimport { GetCurrentUserInfo } from '../../../store/actions/UsersActions/FetchCurrentUserInfoAction';\nimport { saveUserChatAction } from '../../../store/actions/UsersActions/SaveUserchatMsgAction';\nimport { GetuserChatMsg } from '../../../store/actions/UsersActions/GetUserChatMessagesAction';\nimport io from 'socket.io-client';\n\n\nclass Chat extends React.Component {\n   constructor(props) {\n      super(props);\n      this.state = {\n         socket: io(process.env.REACT_APP_API_URL),\n         firstname: \"\",\n         lastname: \"\",\n         profilePhoto: \"\",\n         msgContent: \"\",\n         allUserChatContact: [],\n         messagesInfo: [],\n         initChatMessage: <li className=\"left clearfix\">\n            <span className=\"chat-img1 pull-left\">\n               <img src=\"https://lh6.googleusercontent.com/-y-MY2satK-E/AAAAAAAAAAI/AAAAAAAAAJU/ER_hFddBheQ/photo.jpg\" alt=\"User Avatar\" className=\"img-circle\" />\n            </span>\n            <div className=\"chat-body1 clearfix\">\n               <p>Hello I am a robot. Welcome to your chat box choose a user to start chatting.</p>\n               <div className=\"chat_time pull-right\">09:40PM</div>\n            </div>\n         </li>\n      }\n\n      this.sendMessageToUser = this.sendMessageToUser.bind(this);\n      this.selectChatContact = this.selectChatContact.bind(this);\n      this.handleChange = this.handleChange.bind(this);\n   }\n\n   componentDidMount() {\n      let room = localStorage.getItem(\"userId\");\n      this.state.socket.connect(true);\n      this.state.socket.emit('join', room);\n      this.state.socket.on(\"send-new-msg\", (msg) => {\n         console.log(\"msg :\", msg, this.state.messagesInfo);\n         let allMsg = this.state.messagesInfo;\n         allMsg.messages.push(msg);\n         this.setState({\n            messagesInfo: allMsg\n         })\n         var elmnt = document.getElementById(\"content\");\n         elmnt.scrollIntoView();\n      })\n   }\n\n   handleChange(event) {\n      event.preventDefault();\n      const target = event.target;\n      const value = target.type === 'checkbox' ? target.checked : target.value;\n      const name = target.name;\n\n      this.setState({\n         [name]: value\n      });\n\n   }\n\n   sendMessageToUser(e) {\n      e.preventDefault();\n      let Allmessages = [];\n      let socketMsg = {};\n      if (this.state.messagesInfo.length !== 0 && this.state.messagesInfo.messages) {\n         Allmessages = this.state.messagesInfo;\n         socketMsg = {\n            pos: \"right\",\n            photo: this.state.profilePhoto,\n            msgData: this.state.msgContent,\n            data: Moment()\n         };\n\n         Allmessages.messages.push({\n            pos: \"right\",\n            photo: this.state.profilePhoto,\n            msgData: this.state.msgContent,\n            data: Moment()\n         })\n         this.setState({\n            messagesInfo: Allmessages,\n         })\n         this.props.onsaveUserChatAction(Allmessages);\n         setTimeout(() => {\n            this.state.socket.emit('new-msg', { msg: socketMsg, room: this.state.messagesInfo.dest_userId })\n            this.setState({\n               msgContent: \"\"\n            })\n            let data = {\n               id: parseInt(this.state.messagesInfo.source_userId) + \n               parseInt(this.state.messagesInfo.dest_userId),\n               title: \"message\",\n               fullname: \"\",\n               msg: \" messaged you on chatApp \",\n               likerId: parseInt(this.state.messagesInfo.source_userId),\n               likedId: parseInt(this.state.messagesInfo.dest_userId),\n               time: Moment()\n           }\n           this.state.socket.emit('likeUser', data)\n         }, 200)\n      } else {\n         console.log(\"Please choose a user to chat with !\")\n      }\n\n      var elmnt = document.getElementById(\"content\");\n      elmnt.scrollIntoView();\n   }\n\n   async UNSAFE_componentWillMount() {\n      let userId = localStorage.getItem(\"userId\");\n      await this.props.onGetCurrentUserInfo(userId);\n      await this.props.onGetuserChatContact();\n   }\n\n   async selectChatContact(e, user) {\n      e.preventDefault();\n      let userId = localStorage.getItem(\"userId\");\n      await this.props.onGetuserChatMsg(user.userId);\n      // Get all user messages sorted by date\n      // init user objs\n      this.setState({\n         messagesInfo: {\n            dest_userId: user.userId,\n            source_userId: userId,\n            dest_fullname: user.fullname,\n            dest_photo: user.profilePhoto,\n            messages: []\n         },\n      })\n\n      setTimeout(() => {\n         var elmnt = document.getElementById(\"content\");\n         elmnt.scrollIntoView();\n      }, 20);\n   }\n\n   getProfilePicture(pictures, state) {\n      let pics = [];\n      let i = 0;\n      while (i < pictures.length) {\n         if (pictures[i].state === state)\n            pics.push(pictures[i].path)\n         i++;\n      }\n\n      return pics;\n   }\n\n   initProfileInformation(data) {\n      let userInfo = data.info;\n      let profilePhoto = this.getProfilePicture(data.pictures, 1);\n\n      this.setState({\n         firstname: userInfo.firstname,\n         lastname: userInfo.lastname,\n         profilePhoto: profilePhoto.length > 0 ? profilePhoto : \"\",\n      })\n   }\n\n   initMegList(msgs) {\n      if (msgs && msgs.length > 0) {\n         let msgsList = [];\n         msgsList = msgs.map(msg => {\n            console.log(msg.source_user_id, parseInt(this.state.messagesInfo.source_userId))\n            return ({\n               pos: msg.source_user_id === parseInt(this.state.messagesInfo.source_userId)\n                  ? \"right\" : \"left\",\n               photo: msg.source_user_id === parseInt(this.state.messagesInfo.source_userId)\n                  ? this.state.profilePhoto : this.state.messagesInfo.dest_photo,\n               msgData: msg.message_text,\n               date: msg.createdAt\n            })\n         })\n\n         let msgInfo = this.state.messagesInfo;\n         msgInfo.messages = msgsList\n         this.setState({\n            messagesInfo: msgInfo\n         })\n      }\n   }\n\n\n   UNSAFE_componentWillReceiveProps(nextProps) {\n      if (nextProps.getContactChat !== \"\" && nextProps.getContactChat.code === 200) {\n         this.setState({\n            allUserChatContact: nextProps.getContactChat.data\n         })\n      }\n      if (nextProps.getUserChatMsg !== \"\" && nextProps.getUserChatMsg.code === 200) {\n         console.log(\"Data fetched \");\n         this.initMegList(nextProps.getUserChatMsg.data);\n      }\n      if (nextProps.getCurrentProfileInfo.data)\n         this.initProfileInformation(nextProps.getCurrentProfileInfo.data);\n   }\n\n\n   render() {\n\n      return (\n         <div>\n            <Header />\n            <Sidebar />\n            <div>\n               <div className=\"content-wrapper\">\n                  <section className=\"content\">\n                     <section className=\"content\">\n\n                        <div className=\"row\">\n                           <div className=\"col-md-12\">\n                              <div className=\"box box-primary\" id=\"fixMarginTop\">\n                                 <div className=\"box-header with-border\">\n                                    <h3 className=\"box-title\">Chat</h3>\n\n                                    <div className=\"box-tools pull-right\">\n                                       <button type=\"button\" className=\"btn btn-box-tool\" data-widget=\"collapse\"><i className=\"fa fa-minus\"></i>\n                                       </button>\n                                       <button type=\"button\" className=\"btn btn-box-tool\" data-widget=\"remove\"><i className=\"fa fa-times\"></i></button>\n                                    </div>\n                                 </div>\n                                 <div className=\"box-body\">\n                                    <div className=\"row\">\n\n                                       <div className=\"col-md-12\">\n                                          <div style={{ 'height': '100px' }}>\n                                             <div>\n                                                <div className=\"col-sm-3 chat_sidebar\">\n                                                   <div className=\"row\">\n                                                      <div id=\"custom-search-input\">\n                                                         <div className=\"input-group col-md-12\">\n                                                            <input type=\"text\" className=\"  search-query form-control\" placeholder=\"Conversation\" />\n                                                            <button className=\"btn btn-danger\" type=\"button\">\n                                                               <span className=\" glyphicon glyphicon-search\"></span>\n                                                            </button>\n                                                         </div>\n                                                      </div>\n\n                                                      <div className=\"member_list\">\n                                                         <ul className=\"list-unstyled\">\n                                                            {this.state.allUserChatContact ?\n                                                               this.state.allUserChatContact.map((user, i) => {\n                                                                  return <li key={i} onClick={(e) => { this.selectChatContact(e, user) }} className=\"left clearfix\">\n                                                                     <span className=\"chat-img pull-left\">\n                                                                        <img src={\n                                                                           process.env.REACT_APP_API_URL +\n                                                                           \"/\" + user.profilePhoto\n                                                                        } alt=\"User Avatar\" className=\"img-circle\" />\n                                                                     </span>\n                                                                     <div className=\"chat-body clearfix\">\n                                                                        <div className=\"header_sec\">\n                                                                           <strong className=\"primary-font\">{user.fullname}</strong>\n                                                                           {/* <strong className=\"pull-right\"> */}\n                                                                           {/* 09:45AM</strong> */}\n                                                                        </div>\n                                                                        <div className=\"contact_sec\">\n                                                                           {/* <strong className=\"primary-font\">(123) 123-456</strong> <span className=\"badge pull-right\">3</span> */}\n                                                                        </div>\n                                                                     </div>\n                                                                  </li>\n                                                               })\n                                                               : \"\"}\n\n                                                         </ul>\n                                                      </div></div>\n                                                </div>\n\n                                                <div className=\"col-sm-9 message_section\">\n                                                   <div className=\"row\">\n                                                      <div className=\"new_message_head\">\n                                                         <div className=\"pull-left\"><button><i className=\"fa fa-plus-square-o\" aria-hidden=\"true\"></i> New Message</button></div><div className=\"pull-right\"><div className=\"dropdown\">\n                                                            <button className=\"dropdown-toggle\" type=\"button\" id=\"dropdownMenu1\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                                                               <i className=\"fa fa-cogs\" aria-hidden=\"true\"></i>  Setting\n    <span className=\"caret\"></span>\n                                                            </button>\n                                                            <ul className=\"dropdown-menu dropdown-menu-right\" aria-labelledby=\"dropdownMenu1\">\n                                                               <li><a href=\"#\">Action</a></li>\n                                                               <li><a href=\"#\">Profile</a></li>\n                                                               <li><a href=\"#\">Logout</a></li>\n                                                            </ul>\n                                                         </div></div>\n                                                      </div>\n\n                                                      <div className=\"chat_area\">\n                                                         <ul className=\"list-unstyled\">\n                                                            {this.state.messagesInfo.length === 0 ? this.state.initChatMessage : \"\"}\n                                                            {this.state.messagesInfo.length !== 0 && this.state.messagesInfo.messages.length === 0 ?\n                                                               <li className=\"left clearfix\">\n                                                                  <div className=\"chat-body1 clearfix\">\n                                                                     <p>Now chatting with <b>{this.state.messagesInfo.dest_fullname}</b></p>\n                                                                     <div className=\"chat_time pull-right\">09:40PM</div>\n                                                                  </div>\n                                                               </li>\n                                                               : \"\"}\n\n\n\n                                                            {/* <li className=\"left clearfix\">\n                                                               <span className=\"chat-img1 pull-left\">\n                                                                  <img src=\"https://lh6.googleusercontent.com/-y-MY2satK-E/AAAAAAAAAAI/AAAAAAAAAJU/ER_hFddBheQ/photo.jpg\" alt=\"User Avatar\" className=\"img-circle\" />\n                                                               </span>\n                                                               <div className=\"chat-body1 clearfix\">\n                                                                  <p>Contrary to popular belief, Lorem Ipsum is not simply random text. It has roots in a piece of classNameical Latin literature from 45 BC, making it over 2000 years old. Richard McClintock, a Latin professor at Hampden-Sydney College in Virginia.</p>\n                                                                  <div className=\"chat_time pull-right\">09:40PM</div>\n                                                               </div>\n                                                            </li> */}\n\n                                                            {this.state.messagesInfo.length !== 0 && this.state.messagesInfo.messages.length > 0 ?\n                                                               this.state.messagesInfo.messages.map((msg, i) => {\n                                                                  return <li key={i} className=\"left clearfix admin_chat\">\n                                                                     <span className={'chat-img1 pull-' + msg.pos}>\n                                                                        <img src={\n                                                                           process.env.REACT_APP_API_URL + \"/\" + msg.photo\n                                                                        } alt=\"User Avatar\" className=\"img-circle\" />\n                                                                     </span>\n                                                                     <div className=\"chat-body1 clearfix\">\n                                                                        <p>{msg.msgData}</p>\n                                                                        <div className=\"chat_time pull-left\">{Moment(msg.date).fromNow()}</div>\n                                                                     </div>\n                                                                  </li>\n                                                               })\n\n\n                                                               : \"\"}\n\n                                                            <li style={{ 'marginBottom': '1.5vw' }} id=\"content\"></li>\n                                                         </ul>\n                                                      </div>\n\n                                                      <div className=\"message_write\" >\n                                                         <textarea className=\"form-control\" name=\"msgContent\" value={this.state.msgContent} onChange={this.handleChange} placeholder=\"type a message\"></textarea>\n                                                         <div className=\"clearfix\"></div>\n                                                         <div onClick={(e) => { this.sendMessageToUser(e) }} className=\"chat_bottom\">\n                                                            <a href=\"#\" className=\"pull-left btn btn-success\">\n                                                               Send</a></div>\n                                                      </div>\n                                                   </div>\n                                                </div>\n                                             </div>\n                                          </div>\n                                       </div>\n\n                                    </div>\n                                 </div>\n                              </div>\n                           </div>\n                        </div>\n                     </section>\n\n\n                  </section>\n               </div>\n            </div>\n            <Footer />\n         </div>\n\n      );\n   }\n}\n\nconst state = (state, ownProps = {}) => {\n   return {\n      getUserChatMsg: state.getUserChatMsg.getUserChatMsg,\n      getCurrentProfileInfo: state.getCurrentProfileInfo.getCurrentProfileInfo,\n      getContactChat: state.getContactChat.getContactChat,\n      location: state.location,\n   }\n}\n\nconst mapDispatchToProps = (dispatch, ownProps) => {\n   return {\n      navigateTo: (location) => {\n         dispatch(push(location));\n      },\n      onGetuserChatContact: () => dispatch(GetuserChatContact()),\n      onGetCurrentUserInfo: (userId) => dispatch(GetCurrentUserInfo(userId)),\n      onsaveUserChatAction: (data) => dispatch(saveUserChatAction(data)),\n      onGetuserChatMsg: (dest_userId) => dispatch(GetuserChatMsg(dest_userId))\n   }\n};\n\nexport default connect(state, mapDispatchToProps)(Chat);\n"]},"metadata":{},"sourceType":"module"}