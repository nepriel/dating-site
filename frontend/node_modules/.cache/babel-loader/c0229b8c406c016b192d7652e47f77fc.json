{"ast":null,"code":"import axios from \"axios/index\";\nimport { EDIT_USER } from '../ActionType';\n\nfunction editProfile(token, userId, data, dispatch) {\n  axios.put(process.env.REACT_APP_API_URL + \"/users/\" + userId, data, {\n    headers: {\n      \"Authorization\": \"Bearer \" + token\n    }\n  }).then(results => {\n    dispatch({\n      type: EDIT_USER,\n      payload: results.data\n    });\n    dispatch({\n      type: EDIT_USER,\n      payload: \"\"\n    });\n  }).catch(err => {\n    dispatch({\n      type: EDIT_USER,\n      payload: false\n    });\n  });\n}\n\nexport function editThisUser(data) {\n  const token = localStorage.getItem(\"token\");\n  const userId = localStorage.getItem(\"userId\");\n  return async function (dispatch) {\n    const dataHttp = new FormData();\n    let i = 0;\n    if (data.profilePhoto !== \"\") await dataHttp.append('file', data.profilePhoto, data.profilePhoto.name);\n\n    while (i < data.multiPhotos.length && data.multiPhotos.length > 0) {\n      await dataHttp.append('file', data.multiPhotos[i], data.multiPhotos[i].name);\n      i++;\n    }\n\n    dataHttp.append('firstname', data.firstname);\n    dataHttp.append('lastname', data.lastname);\n    dataHttp.append('email', data.email);\n    dataHttp.append('Password', data.Password);\n    dataHttp.append('age', data.age);\n    dataHttp.append('psudonym', data.psudonym);\n    dataHttp.append('SexualOrientation', data.SexualOrientation);\n    dataHttp.append('gender', data.gender);\n    dataHttp.append('location', data.location);\n    dataHttp.append('Fame', data.Fame);\n    dataHttp.append('Bibliography', data.Bibliography);\n    dataHttp.append('profilePhoto', data.profilePhoto !== \"\" ? data.profilePhoto.name : \"\");\n    i = 0;\n\n    if (data.selectedOption === undefined || data.selectedOption === null) {\n      data.selectedOption = \"\";\n      await dataHttp.append('tags', data.selectedOption);\n    } else for (i = 0; i < data.selectedOption.length; i++) {\n      await dataHttp.append('tags', data.selectedOption[i].value.toLowerCase());\n    }\n\n    await editProfile(token, userId, dataHttp, dispatch);\n  };\n}\n;","map":{"version":3,"sources":["/usr/src/app/src/store/actions/UsersActions/EditUserAction.js"],"names":["axios","EDIT_USER","editProfile","token","userId","data","dispatch","put","process","env","REACT_APP_API_URL","headers","then","results","type","payload","catch","err","editThisUser","localStorage","getItem","dataHttp","FormData","i","profilePhoto","append","name","multiPhotos","length","firstname","lastname","email","Password","age","psudonym","SexualOrientation","gender","location","Fame","Bibliography","selectedOption","undefined","value","toLowerCase"],"mappings":"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","sourcesContent":["import axios from \"axios/index\";\nimport {\n    EDIT_USER,\n} from '../ActionType';\n\nfunction editProfile(token, userId, data, dispatch) {\n\n    axios.put(process.env.REACT_APP_API_URL + \"/users/\" + userId, data, {\n        headers: {\n            \"Authorization\": `Bearer ` + token\n        }\n    })\n        .then(results => {\n            dispatch({\n                type: EDIT_USER,\n                payload: results.data,\n            })\n            dispatch({\n                type: EDIT_USER,\n                payload: \"\",\n            })\n\n        })\n        .catch(err => {\n            dispatch({\n                type: EDIT_USER,\n                payload: false,\n            })\n        });\n}\n\nexport function editThisUser(data) {\n    const token = localStorage.getItem(\"token\");\n    const userId = localStorage.getItem(\"userId\");\n\n    return async function (dispatch) {\n        const dataHttp = new FormData()\n        let i = 0;\n\n        if (data.profilePhoto !== \"\")\n            await dataHttp.append('file', data.profilePhoto, data.profilePhoto.name)\n\n        while (i < data.multiPhotos.length && data.multiPhotos.length > 0) {\n            await dataHttp.append('file', data.multiPhotos[i], data.multiPhotos[i].name)\n            i++;\n        }\n\n        dataHttp.append('firstname', data.firstname);\n        dataHttp.append('lastname', data.lastname);\n        dataHttp.append('email', data.email);\n        dataHttp.append('Password', data.Password);\n        dataHttp.append('age', data.age);\n        dataHttp.append('psudonym', data.psudonym);\n        dataHttp.append('SexualOrientation', data.SexualOrientation);\n        dataHttp.append('gender', data.gender);\n        dataHttp.append('location', data.location);\n        dataHttp.append('Fame', data.Fame);\n        dataHttp.append('Bibliography', data.Bibliography);\n        dataHttp.append('profilePhoto', data.profilePhoto !== \"\" ? data.profilePhoto.name : \"\");\n        i = 0;\n        if (data.selectedOption === undefined || data.selectedOption === null) {\n            data.selectedOption = \"\";\n            await dataHttp.append('tags', data.selectedOption);\n        }\n        else\n            for (i = 0; i < data.selectedOption.length; i++) {\n                await dataHttp.append('tags', data.selectedOption[i].value.toLowerCase());\n            }\n\n\n        await editProfile(token, userId, dataHttp, dispatch)\n    }\n\n};"]},"metadata":{},"sourceType":"module"}