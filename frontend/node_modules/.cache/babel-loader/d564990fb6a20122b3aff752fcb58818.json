{"ast":null,"code":"import axios from \"axios/index\";\nimport { AUTH_USER } from '../ActionType';\nimport { createBrowserHistory } from \"history\";\nexport function LoginUser(userInfo) {\n  return function (dispatch) {\n    axios.post(process.env.REACT_APP_API_URL + \"/users/login\", {\n      \"credentials\": {\n        \"email\": userInfo.email,\n        \"password\": userInfo.password\n      }\n    }, {\n      'content-type': 'application/x-www-form-urlencoded'\n    }).then(res => {\n      if (res.data.code === 200) {\n        let history = createBrowserHistory();\n        localStorage.setItem('token', res.data.token);\n        localStorage.setItem('userId', res.data.userId);\n        history.push(\"/\");\n        let urlPath = window.location.href;\n        window.location.href = urlPath;\n      } else {\n        dispatch({\n          type: AUTH_USER,\n          payload: res.data\n        });\n        setTimeout(() => {\n          dispatch({\n            type: AUTH_USER,\n            payload: \"\"\n          });\n        }, 10);\n      }\n    }).catch(err => {\n      dispatch({\n        type: AUTH_USER,\n        payload: \"\"\n      });\n    });\n  };\n}\n;","map":{"version":3,"sources":["/usr/src/app/src/store/actions/UsersActions/LoginUserAction.js"],"names":["axios","AUTH_USER","createBrowserHistory","LoginUser","userInfo","dispatch","post","process","env","REACT_APP_API_URL","email","password","then","res","data","code","history","localStorage","setItem","token","userId","push","urlPath","window","location","href","type","payload","setTimeout","catch","err"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,aAAlB;AACA,SACIC,SADJ,QAEO,eAFP;AAGA,SAASC,oBAAT,QAAqC,SAArC;AAIA,OAAO,SAASC,SAAT,CAAmBC,QAAnB,EAA6B;AAEhC,SAAO,UAAUC,QAAV,EAAoB;AACvBL,IAAAA,KAAK,CAACM,IAAN,CAAWC,OAAO,CAACC,GAAR,CAAYC,iBAAZ,GAAgC,cAA3C,EAA2D;AACvD,qBAAe;AACX,iBAASL,QAAQ,CAACM,KADP;AAEX,oBAAYN,QAAQ,CAACO;AAFV;AADwC,KAA3D,EAKG;AAAE,sBAAgB;AAAlB,KALH,EAMKC,IANL,CAMUC,GAAG,IAAI;AACT,UAAIA,GAAG,CAACC,IAAJ,CAASC,IAAT,KAAkB,GAAtB,EAA2B;AACvB,YAAIC,OAAO,GAAGd,oBAAoB,EAAlC;AACAe,QAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BL,GAAG,CAACC,IAAJ,CAASK,KAAvC;AACAF,QAAAA,YAAY,CAACC,OAAb,CAAqB,QAArB,EAA+BL,GAAG,CAACC,IAAJ,CAASM,MAAxC;AACAJ,QAAAA,OAAO,CAACK,IAAR,CAAa,GAAb;AACA,YAAIC,OAAO,GAAGC,MAAM,CAACC,QAAP,CAAgBC,IAA9B;AACAF,QAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuBH,OAAvB;AACH,OAPD,MAOO;AACHjB,QAAAA,QAAQ,CAAC;AACLqB,UAAAA,IAAI,EAAEzB,SADD;AAEL0B,UAAAA,OAAO,EAAEd,GAAG,CAACC;AAFR,SAAD,CAAR;AAIAc,QAAAA,UAAU,CAAC,MAAM;AACbvB,UAAAA,QAAQ,CAAC;AACLqB,YAAAA,IAAI,EAAEzB,SADD;AAEL0B,YAAAA,OAAO,EAAE;AAFJ,WAAD,CAAR;AAIH,SALS,EAKP,EALO,CAAV;AAMH;AACJ,KA1BL,EA2BKE,KA3BL,CA2BWC,GAAG,IAAI;AACVzB,MAAAA,QAAQ,CAAC;AACLqB,QAAAA,IAAI,EAAEzB,SADD;AAEL0B,QAAAA,OAAO,EAAE;AAFJ,OAAD,CAAR;AAIH,KAhCL;AAiCH,GAlCD;AAoCH;AAAA","sourcesContent":["import axios from \"axios/index\";\nimport {\n    AUTH_USER,\n} from '../ActionType';\nimport { createBrowserHistory } from \"history\";\n\n\n\nexport function LoginUser(userInfo) {\n\n    return function (dispatch) {\n        axios.post(process.env.REACT_APP_API_URL + \"/users/login\", {\n            \"credentials\": {\n                \"email\": userInfo.email,\n                \"password\": userInfo.password\n            },\n        }, { 'content-type': 'application/x-www-form-urlencoded' })\n            .then(res => {\n                if (res.data.code === 200) {\n                    let history = createBrowserHistory();\n                    localStorage.setItem('token', res.data.token);\n                    localStorage.setItem('userId', res.data.userId);\n                    history.push(\"/\");\n                    let urlPath = window.location.href;\n                    window.location.href = urlPath;\n                } else {\n                    dispatch({\n                        type: AUTH_USER,\n                        payload: res.data,\n                    });\n                    setTimeout(() => {\n                        dispatch({\n                            type: AUTH_USER,\n                            payload: \"\",\n                        })\n                    }, 10)\n                }\n            })\n            .catch(err => {\n                dispatch({\n                    type: AUTH_USER,\n                    payload: \"\"\n                })\n            });\n    }\n\n};"]},"metadata":{},"sourceType":"module"}