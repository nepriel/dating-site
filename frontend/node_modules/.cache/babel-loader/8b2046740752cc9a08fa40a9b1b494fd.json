{"ast":null,"code":"import _defineProperty from\"/home/abn/my-projects/matcha-42/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/home/abn/my-projects/matcha-42/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/abn/my-projects/matcha-42/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/abn/my-projects/matcha-42/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/abn/my-projects/matcha-42/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/home/abn/my-projects/matcha-42/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/abn/my-projects/matcha-42/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React from\"react\";import{connect}from\"react-redux\";import{push}from\"react-router-redux\";import{Link}from\"react-router-dom\";import{signupUser}from'../../../store/actions/UsersActions/signupUserAction';import{ToastContainer}from'react-toastify';var customNotification=require('../utils/notification');var Signup=/*#__PURE__*/function(_React$Component){_inherits(Signup,_React$Component);function Signup(props){var _this;_classCallCheck(this,Signup);_this=_possibleConstructorReturn(this,_getPrototypeOf(Signup).call(this,props));_this.state={firstname:\"\",lastname:\"\",pseudonyme:\"\",password:\"\",email:\"\",confPassword:\"\",resgiterUser:\"\"};_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));_this.handlFormSubmit=_this.handlFormSubmit.bind(_assertThisInitialized(_this));return _this;}_createClass(Signup,[{key:\"handlFormSubmit\",value:function handlFormSubmit(e){e.preventDefault();if(this.valdateFormData())this.props.onSignupUser(this.state);}},{key:\"handleChange\",value:function handleChange(event){var target=event.target;var value=target.type==='checkbox'?target.checked:target.value;var name=target.name;this.setState(_defineProperty({},name,value));}},{key:\"valdateFormData\",value:function valdateFormData(){var validateEmail=new RegExp(/[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,15}/g);if(this.state.password!==this.state.confPassword){customNotification.fireNotification(\"warning\",\"Passwords does not match\");return false;}else if(this.state.password.length<8){customNotification.fireNotification(\"warning\",\"Password must contain at least 8 characters\");return false;}else if(!validateEmail.test(this.state.email)){customNotification.fireNotification(\"warning\",\"Email not valid\");return false;}return true;}},{key:\"UNSAFE_componentWillReceiveProps\",value:function UNSAFE_componentWillReceiveProps(nextProps){if(nextProps.resgiterUser.msg!==\"\"&&nextProps.resgiterUser.code===204)customNotification.fireNotification(\"error\",nextProps.resgiterUser.msg);if(nextProps.resgiterUser.msg!==\"\"&&nextProps.resgiterUser.code===200)customNotification.fireNotification(\"success\",nextProps.resgiterUser.msg);}},{key:\"render\",value:function render(){return React.createElement(\"div\",{className:\"login-box\"},React.createElement(ToastContainer,null),React.createElement(\"div\",{className:\"login-logo\"},React.createElement(\"b\",null,\"Matcha\")),React.createElement(\"div\",{className:\"login-box-body\"},React.createElement(\"p\",{className:\"login-box-msg\"},React.createElement(Link,{to:\"/login\",onClick:this.props.navigateTo.bind(this,'/login')},React.createElement(\"i\",{className:\"fa fa-backward pull-left\"})),\"Signup a new account\"),React.createElement(\"form\",{onSubmit:this.handlFormSubmit,encType:\"multipart/form-data\"},React.createElement(\"div\",{className:\"form-group has-feedback\"},React.createElement(\"input\",{required:true,type:\"text\",className:\"form-control\",onChange:this.handleChange,name:\"firstname\",placeholder:\"firstname\"}),React.createElement(\"span\",{className:\"glyphicon glyphicon-book form-control-feedback\"})),React.createElement(\"div\",{className:\"form-group has-feedback\"},React.createElement(\"input\",{required:true,type:\"text\",className:\"form-control\",onChange:this.handleChange,name:\"lastname\",placeholder:\"Lastname\"}),React.createElement(\"span\",{className:\"glyphicon glyphicon-book form-control-feedback\"})),React.createElement(\"div\",{className:\"form-group has-feedback\"},React.createElement(\"input\",{required:true,type:\"text\",className:\"form-control\",onChange:this.handleChange,name:\"pseudonyme\",placeholder:\"Pseudonyme\"}),React.createElement(\"span\",{className:\"glyphicon glyphicon-book form-control-feedback\"})),React.createElement(\"div\",{className:\"form-group has-feedback\"},React.createElement(\"input\",{required:true,type:\"email\",className:\"form-control\",onChange:this.handleChange,name:\"email\",placeholder:\"Email\"}),React.createElement(\"span\",{className:\"glyphicon glyphicon-envelope form-control-feedback\"})),React.createElement(\"div\",{className:\"form-group has-feedback\"},React.createElement(\"input\",{required:true,type:\"password\",className:\"form-control\",onChange:this.handleChange,name:\"password\",placeholder:\"Password\"}),React.createElement(\"span\",{className:\"glyphicon glyphicon-lock form-control-feedback\"})),React.createElement(\"div\",{className:\"form-group has-feedback\"},React.createElement(\"input\",{required:true,type:\"password\",className:\"form-control\",onChange:this.handleChange,name:\"confPassword\",placeholder:\"Confirm your password\"}),React.createElement(\"span\",{className:\"glyphicon glyphicon-lock form-control-feedback\"})),React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",{className:\"col-xs-4 pull-right\"},React.createElement(\"button\",{type:\"submit\",className:\"btn btn-primary btn-block btn-flat\"},\"Register\"))))));}}]);return Signup;}(React.Component);;var state=function state(_state){var ownProps=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return{location:_state.location,resgiterUser:_state.registerUser.registerUser};};var mapDispatchToProps=function mapDispatchToProps(dispatch,ownProps){return{navigateTo:function navigateTo(location){dispatch(push(location));},onSignupUser:function onSignupUser(data){return dispatch(signupUser(data));}};};export default connect(state,mapDispatchToProps)(Signup);","map":{"version":3,"sources":["/home/abn/my-projects/matcha-42/frontend/src/components/pages/Signup/Signup.js"],"names":["React","connect","push","Link","signupUser","ToastContainer","customNotification","require","Signup","props","state","firstname","lastname","pseudonyme","password","email","confPassword","resgiterUser","handleChange","bind","handlFormSubmit","e","preventDefault","valdateFormData","onSignupUser","event","target","value","type","checked","name","setState","validateEmail","RegExp","fireNotification","length","test","nextProps","msg","code","navigateTo","Component","ownProps","location","registerUser","mapDispatchToProps","dispatch","data"],"mappings":"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","sourcesContent":["\nimport React from \"react\";\nimport { connect } from \"react-redux\";\nimport { push } from \"react-router-redux\";\nimport { Link } from \"react-router-dom\";\nimport { signupUser } from '../../../store/actions/UsersActions/signupUserAction';\nimport { ToastContainer } from 'react-toastify';\nconst customNotification = require('../utils/notification');\n\nclass Signup extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            firstname: \"\",\n            lastname: \"\",\n            pseudonyme: \"\",\n            password: \"\",\n            email: \"\",\n            confPassword: \"\",\n            resgiterUser: \"\",\n        }\n\n        this.handleChange = this.handleChange.bind(this);\n        this.handlFormSubmit = this.handlFormSubmit.bind(this);\n    }\n\n    handlFormSubmit(e) {\n        e.preventDefault();\n        if (this.valdateFormData())\n            this.props.onSignupUser(this.state);\n    }\n\n    handleChange(event) {\n        const target = event.target;\n        const value = target.type === 'checkbox' ? target.checked : target.value;\n        const name = target.name;\n\n        this.setState({\n            [name]: value\n        });\n    }\n\n    valdateFormData() {\n        let validateEmail = new RegExp(/[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,15}/g);\n        if (this.state.password !== this.state.confPassword) {\n            customNotification.fireNotification(\"warning\", \"Passwords does not match\")\n            return false;\n        } else if (this.state.password.length < 8) {\n            customNotification.fireNotification(\"warning\", \"Password must contain at least 8 characters\")\n            return false;\n        } else if (!validateEmail.test(this.state.email)) {\n            customNotification.fireNotification(\"warning\", \"Email not valid\")\n            return false;\n        }\n        return true;\n    }\n\n    UNSAFE_componentWillReceiveProps(nextProps) {\n        if (nextProps.resgiterUser.msg !== \"\" && nextProps.resgiterUser.code === 204)\n            customNotification.fireNotification(\"error\", nextProps.resgiterUser.msg)\n        if (nextProps.resgiterUser.msg !== \"\" && nextProps.resgiterUser.code === 200)\n            customNotification.fireNotification(\"success\", nextProps.resgiterUser.msg)\n    }\n\n    render() {\n        return (\n            <div className=\"login-box\">\n                <ToastContainer />\n                <div className=\"login-logo\">\n                    <b>Matcha</b>\n                </div>\n                <div className=\"login-box-body\">\n                    <p className=\"login-box-msg\">\n                        <Link to=\"/login\" onClick={this.props.navigateTo.bind(this, '/login')}>\n                            <i className=\"fa fa-backward pull-left\"></i>\n                        </Link>Signup a new account</p>\n                    <form onSubmit={this.handlFormSubmit} encType=\"multipart/form-data\">\n                        <div className=\"form-group has-feedback\">\n                            <input required type=\"text\" className=\"form-control\" onChange={this.handleChange} name=\"firstname\" placeholder=\"firstname\" />\n                            <span className=\"glyphicon glyphicon-book form-control-feedback\"></span>\n                        </div>\n                        <div className=\"form-group has-feedback\">\n                            <input required type=\"text\" className=\"form-control\" onChange={this.handleChange} name=\"lastname\" placeholder=\"Lastname\" />\n                            <span className=\"glyphicon glyphicon-book form-control-feedback\"></span>\n                        </div>\n                        <div className=\"form-group has-feedback\">\n                            <input required type=\"text\" className=\"form-control\" onChange={this.handleChange} name=\"pseudonyme\" placeholder=\"Pseudonyme\" />\n                            <span className=\"glyphicon glyphicon-book form-control-feedback\"></span>\n                        </div>\n                        <div className=\"form-group has-feedback\">\n                            <input required type=\"email\" className=\"form-control\" onChange={this.handleChange} name=\"email\" placeholder=\"Email\" />\n                            <span className=\"glyphicon glyphicon-envelope form-control-feedback\"></span>\n                        </div>\n                        <div className=\"form-group has-feedback\">\n                            <input required type=\"password\" className=\"form-control\" onChange={this.handleChange} name=\"password\" placeholder=\"Password\" />\n                            <span className=\"glyphicon glyphicon-lock form-control-feedback\"></span>\n                        </div>\n                        <div className=\"form-group has-feedback\">\n                            <input required type=\"password\" className=\"form-control\" onChange={this.handleChange} name=\"confPassword\" placeholder=\"Confirm your password\" />\n                            <span className=\"glyphicon glyphicon-lock form-control-feedback\"></span>\n                        </div>\n                        <div className=\"row\">\n                            <div className=\"col-xs-4 pull-right\">\n                                <button type=\"submit\" className=\"btn btn-primary btn-block btn-flat\">Register</button>\n                            </div>\n                        </div>\n                    </form>\n                </div>\n            </div>\n        );\n    }\n};\n\nconst state = (state, ownProps = {}) => {\n    \n    return {\n        location: state.location,\n        resgiterUser: state.registerUser.registerUser\n    }\n}\n\nconst mapDispatchToProps = (dispatch, ownProps) => {\n    return {\n        navigateTo: (location) => {\n            dispatch(push(location));\n        },\n        onSignupUser: (data) => dispatch(signupUser(data)),\n    }\n};\n\nexport default connect(state, mapDispatchToProps)(Signup);"]},"metadata":{},"sourceType":"module"}