{"ast":null,"code":"import _regeneratorRuntime from\"/home/abn/my-projects/matcha-42/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/abn/my-projects/matcha-42/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import axios from\"axios/index\";import{REPORT_USER}from'../ActionType';function reportUser(token,reported_userId,reporter_userId,dispatch){axios.post(process.env.REACT_APP_API_URL+\"/users/report\",{reported_userId:reported_userId,reporter_userId:reporter_userId},{headers:{\"Authorization\":\"Bearer \"+token}}).then(function(results){dispatch({type:REPORT_USER,payload:results.data});setTimeout(function(){dispatch({type:REPORT_USER,payload:\"\"});},20);}).catch(function(err){dispatch({type:REPORT_USER,payload:false});});}export function reportThisUser(reported_userId,checker){var token=localStorage.getItem(\"token\");var reporter_userId=localStorage.getItem(\"userId\");return(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return reportUser(token,reported_userId,reporter_userId,dispatch);case 2:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}());};","map":{"version":3,"sources":["/home/abn/my-projects/matcha-42/frontend/src/store/actions/UsersActions/ReportUserAction.js"],"names":["axios","REPORT_USER","reportUser","token","reported_userId","reporter_userId","dispatch","post","process","env","REACT_APP_API_URL","headers","then","results","type","payload","data","setTimeout","catch","err","reportThisUser","checker","localStorage","getItem"],"mappings":"2TAAA,MAAOA,CAAAA,KAAP,KAAkB,aAAlB,CACA,OACIC,WADJ,KAEO,eAFP,CAIA,QAASC,CAAAA,UAAT,CAAoBC,KAApB,CAA2BC,eAA3B,CAA4CC,eAA5C,CAA6DC,QAA7D,CAAuE,CACnEN,KAAK,CAACO,IAAN,CAAWC,OAAO,CAACC,GAAR,CAAYC,iBAAZ,CAAgC,eAA3C,CAA4D,CACxDN,eAAe,CAAEA,eADuC,CAExDC,eAAe,CAAEA,eAFuC,CAA5D,CAGG,CACCM,OAAO,CAAE,CACL,gBAAiB,UAAYR,KADxB,CADV,CAHH,EAQKS,IARL,CAQU,SAAAC,OAAO,CAAI,CACbP,QAAQ,CAAC,CACLQ,IAAI,CAAEb,WADD,CAELc,OAAO,CAAEF,OAAO,CAACG,IAFZ,CAAD,CAAR,CAIAC,UAAU,CAAC,UAAM,CACbX,QAAQ,CAAC,CACLQ,IAAI,CAAEb,WADD,CAELc,OAAO,CAAE,EAFJ,CAAD,CAAR,CAIH,CALS,CAKP,EALO,CAAV,CAMH,CAnBL,EAoBKG,KApBL,CAoBW,SAAAC,GAAG,CAAI,CACVb,QAAQ,CAAC,CACLQ,IAAI,CAAEb,WADD,CAELc,OAAO,CAAE,KAFJ,CAAD,CAAR,CAIH,CAzBL,EA0BH,CAED,MAAO,SAASK,CAAAA,cAAT,CAAwBhB,eAAxB,CAAyCiB,OAAzC,CAAkD,CACrD,GAAMlB,CAAAA,KAAK,CAAGmB,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd,CACA,GAAMlB,CAAAA,eAAe,CAAGiB,YAAY,CAACC,OAAb,CAAqB,QAArB,CAAxB,CAGA,gGAAO,iBAAgBjB,QAAhB,wIACGJ,CAAAA,UAAU,CAACC,KAAD,CAAQC,eAAR,CAAyBC,eAAzB,CAA0CC,QAA1C,CADb,uDAAP,gEAGH","sourcesContent":["import axios from \"axios/index\";\nimport {\n    REPORT_USER,\n} from '../ActionType';\n\nfunction reportUser(token, reported_userId, reporter_userId, dispatch) {\n    axios.post(process.env.REACT_APP_API_URL + \"/users/report\", {\n        reported_userId: reported_userId,\n        reporter_userId: reporter_userId\n    }, {\n        headers: {\n            \"Authorization\": `Bearer ` + token\n        }\n    })\n        .then(results => {\n            dispatch({\n                type: REPORT_USER,\n                payload: results.data,\n            })\n            setTimeout(() => {\n                dispatch({\n                    type: REPORT_USER,\n                    payload: \"\",\n                })\n            }, 20)\n        })\n        .catch(err => {\n            dispatch({\n                type: REPORT_USER,\n                payload: false,\n            })\n        });\n}\n\nexport function reportThisUser(reported_userId, checker) {\n    const token = localStorage.getItem(\"token\");\n    const reporter_userId = localStorage.getItem(\"userId\");\n    \n\n    return async function (dispatch) {\n        await reportUser(token, reported_userId, reporter_userId, dispatch)\n    }\n};"]},"metadata":{},"sourceType":"module"}