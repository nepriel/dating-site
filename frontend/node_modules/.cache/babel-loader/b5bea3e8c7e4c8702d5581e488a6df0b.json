{"ast":null,"code":"import _objectWithoutProperties from\"/home/abn/my-projects/matcha-42/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";import React from'react';import{BrowserRouter as Router,Switch,Redirect,Route}from\"react-router-dom\";import'react-toastify/dist/ReactToastify.css';import Home from\"./components/pages/Dashboard/Home\";import Login from\"./components/pages/Login/Login\";import Logout from'./components/pages/Logout/Logout';import decode from'jwt-decode';import NotFound from'./components/pages/NotFound/NotFound';import Signup from'./components/pages/Signup/Signup';import Profile from'./components/pages/Profile/Profile';import ResetPwd from'./components/pages/ResetPwd/ResetPwd';import Chat from'./components/pages/Chat/chat';import ProfileDetail from'./components/pages/ProfileDetail/ProfileDetail';import Notifications from'./components/pages/Notifications/NotificationsHome.js';import Suggestion from'./components/pages/Suggestion/Suggestion';import'rc-slider/assets/index.css';require('dotenv').config();function App(){var checkAuth=function checkAuth(){var token=localStorage.getItem('token');if(!token){return false;}try{// { exp: 12903819203 }\nvar _decode=decode(token),exp=_decode.exp;if(exp<new Date().getTime()/1000){return false;}}catch(e){return false;}return true;};var AuthRoute=function AuthRoute(_ref){var Component=_ref.component,rest=_objectWithoutProperties(_ref,[\"component\"]);return React.createElement(Route,Object.assign({},rest,{render:function render(props){return checkAuth()?React.createElement(Component,props):React.createElement(Redirect,{to:{pathname:'/login'}});}}));};return React.createElement(\"div\",{className:\"row\"},React.createElement(Router,null,React.createElement(Switch,null,React.createElement(AuthRoute,{exact:true,path:\"/Notifications\",component:Notifications}),React.createElement(AuthRoute,{exact:true,path:\"/profiledetail/:id\",component:ProfileDetail}),React.createElement(AuthRoute,{exact:true,path:\"/profile\",component:Profile}),React.createElement(AuthRoute,{exact:true,path:\"/chat\",component:Chat}),React.createElement(AuthRoute,{exact:true,path:\"/chat/\",component:Chat}),React.createElement(Route,{exact:true,path:\"/resetpwd\",component:ResetPwd}),React.createElement(AuthRoute,{exact:true,path:\"/\",component:Home}),React.createElement(Route,{exact:true,path:\"/signup\",component:Signup}),React.createElement(Route,{exact:true,path:\"/login\",component:Login}),React.createElement(AuthRoute,{exact:true,path:\"/logout\",component:Logout}),React.createElement(AuthRoute,{exact:true,path:\"/Suggestion\",component:Suggestion}),React.createElement(AuthRoute,{exact:true,component:NotFound}))));}export default App;","map":{"version":3,"sources":["/home/abn/my-projects/matcha-42/frontend/src/App.js"],"names":["React","BrowserRouter","Router","Switch","Redirect","Route","Home","Login","Logout","decode","NotFound","Signup","Profile","ResetPwd","Chat","ProfileDetail","Notifications","Suggestion","require","config","App","checkAuth","token","localStorage","getItem","exp","Date","getTime","e","AuthRoute","Component","component","rest","props","pathname"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Redirect,\n  Route,\n} from \"react-router-dom\";\nimport 'react-toastify/dist/ReactToastify.css';\nimport Home from \"./components/pages/Dashboard/Home\";\nimport Login from \"./components/pages/Login/Login\";\nimport Logout from './components/pages/Logout/Logout';\nimport decode from 'jwt-decode';\nimport NotFound from './components/pages/NotFound/NotFound';\nimport Signup from './components/pages/Signup/Signup';\nimport Profile from './components/pages/Profile/Profile';\nimport ResetPwd from './components/pages/ResetPwd/ResetPwd';\nimport Chat from './components/pages/Chat/chat';\nimport ProfileDetail from './components/pages/ProfileDetail/ProfileDetail';\nimport Notifications from './components/pages/Notifications/NotificationsHome.js';\nimport Suggestion from './components/pages/Suggestion/Suggestion';\nimport 'rc-slider/assets/index.css';\n\nrequire('dotenv').config();\n\nfunction App() {\n  const checkAuth = () => {\n    const token = localStorage.getItem('token');\n    if (!token) {\n      return false;\n    }\n\n    try {\n      // { exp: 12903819203 }\n      const { exp } = decode(token);\n\n      if (exp < new Date().getTime() / 1000) {\n        return false;\n      }\n\n    } catch (e) {\n      return false;\n    }\n\n    return true;\n  }\n\n  const AuthRoute = ({ component: Component, ...rest }) => (\n    <Route {...rest} render={props => (\n      checkAuth() ? (\n        <Component {...props} />\n      ) : (\n          <Redirect to={{ pathname: '/login' }} />\n        )\n    )} />\n  )\n\n  \n\n  return (\n    <div className=\"row\">\n      <Router>\n        <Switch>\n          <AuthRoute exact path=\"/Notifications\" component={Notifications} />\n          <AuthRoute exact path=\"/profiledetail/:id\" component={ProfileDetail} />\n          <AuthRoute exact path=\"/profile\" component={Profile} />\n          <AuthRoute exact path=\"/chat\" component={Chat} />\n          <AuthRoute exact path=\"/chat/\" component={Chat} />\n          <Route exact path=\"/resetpwd\" component={ResetPwd} />\n          <AuthRoute exact path=\"/\" component={Home} />\n          <Route exact path=\"/signup\" component={Signup} />\n          <Route exact path=\"/login\" component={Login} />\n          <AuthRoute exact path=\"/logout\" component={Logout} />\n          <AuthRoute exact path=\"/Suggestion\" component={Suggestion} />\n          <AuthRoute exact component={NotFound} />\n        </Switch>\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}