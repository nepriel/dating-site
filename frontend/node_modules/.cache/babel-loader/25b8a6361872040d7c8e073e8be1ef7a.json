{"ast":null,"code":"import _regeneratorRuntime from\"/home/abn/my-projects/matcha-42/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _defineProperty from\"/home/abn/my-projects/matcha-42/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _asyncToGenerator from\"/home/abn/my-projects/matcha-42/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/home/abn/my-projects/matcha-42/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/abn/my-projects/matcha-42/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/abn/my-projects/matcha-42/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/abn/my-projects/matcha-42/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/home/abn/my-projects/matcha-42/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/abn/my-projects/matcha-42/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React from\"react\";import Header from'../../common/Header';import Sidebar from'../../common/SideBar';import Footer from'../../common/Footer';import SearchBar from'./SearchBar';import ResultUser from'./ResultUser';import{connect}from\"react-redux\";import{push}from\"react-router-redux\";import{fetchAllUsersPublicData}from'../../../store/actions/UsersActions/fetchAllUsersPublicDataAction';import io from'socket.io-client';import sort from'fast-sort';import{GetUserIntrests}from'../../../store/actions/intrestsActions/GetAllInterestsAction';var Home=/*#__PURE__*/function(_React$Component){_inherits(Home,_React$Component);function Home(props){var _this;_classCallCheck(this,Home);_this=_possibleConstructorReturn(this,_getPrototypeOf(Home).call(this,props));_this.onChange=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:console.log(e.target.value);if(e.target.name!=='sortBy'){e.preventDefault();}_this.setState(_defineProperty({},e.target.name,e.target.value));setTimeout(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _this.filterUsers();case 2:case\"end\":return _context.stop();}}},_callee);})),50);// await this.filterUsers();\n// console.log(this.state[e.target.name]);\ncase 4:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x){return _ref.apply(this,arguments);};}();_this.state={sortBy:'age',initialUsers:[],interestsArray:[],userBuffer:[]};_this.onChange=_this.onChange.bind(_assertThisInitialized(_this));_this.filterUsers=_this.filterUsers.bind(_assertThisInitialized(_this));return _this;}_createClass(Home,[{key:\"UNSAFE_componentWillMount\",value:function(){var _UNSAFE_componentWillMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var userId;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return this.props.onfetchAllUsersPublicData([]);case 2:userId=localStorage.getItem(\"userId\");_context3.next=5;return this.props.onGetUserIntrests(userId);case 5:case\"end\":return _context3.stop();}}},_callee3,this);}));function UNSAFE_componentWillMount(){return _UNSAFE_componentWillMount.apply(this,arguments);}return UNSAFE_componentWillMount;}()},{key:\"initUsers\",value:function initUsers(users){this.setState({initialUsers:users,userBuffer:users});}},{key:\"initInterestArray\",value:function initInterestArray(interests){this.setState({interestsArray:interests});}},{key:\"UNSAFE_componentWillReceiveProps\",value:function UNSAFE_componentWillReceiveProps(nextProps){if(nextProps.getUserInterests!==undefined&&nextProps.getUserInterests.code===200)this.initInterestArray(nextProps.getUserInterests.data);if(nextProps.fetchAllUsersPublicData!==undefined&&nextProps.fetchAllUsersPublicData.code===200)this.initUsers(nextProps.fetchAllUsersPublicData.data);}},{key:\"filterUsers\",value:function(){var _filterUsers=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){var _this2=this;var buffer,tags,newbuffer;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:buffer=[];buffer=this.state.initialUsers;// console.log(buffer);\n//SORT\n//sort by fame and age\nif(this.state.sortBy==='fame'||this.state.sortBy==='age'){buffer=sort(buffer).asc(function(u){return u[_this2.state.sortBy];});console.log(buffer);this.setState({userBuffer:buffer});//sort by distance\n}else if(this.state.sortBy==='location'){buffer=sort(buffer).asc(function(u){return u.distance;});// console.log(buffer);\nthis.setState({userBuffer:buffer});//sort by tags\n}else if(this.state.sortBy==='tags'){//on a une liste de tags.\n//on veut que les utilisateurs qui ont le premier element de la liste de tags arrive en premier puis les deuxieme arrive ensuite\ntags=[];if(this.state.interestsArray!==null){this.state.interestsArray.forEach(function(element){tags.push(element.value);});}newbuffer=[];tags.forEach(function(tagfromlist){buffer.forEach(function(element){element.tags.forEach(function(taguser){if(taguser===tagfromlist){newbuffer.push(element);}});});});// console.log(buffer);\nbuffer=newbuffer;this.setState({userBuffer:buffer});}case 3:case\"end\":return _context4.stop();}}},_callee4,this);}));function filterUsers(){return _filterUsers.apply(this,arguments);}return filterUsers;}()},{key:\"render\",value:function render(){var filteredUsers=this.state.userBuffer;return React.createElement(\"div\",null,React.createElement(Header,null),React.createElement(Sidebar,null),React.createElement(\"div\",null,React.createElement(\"div\",{className:\"content-wrapper\"},React.createElement(\"section\",{className:\"content\"},React.createElement(\"section\",{className:\"content\"},React.createElement(\"br\",null),React.createElement(SearchBar,null),React.createElement(\"div\",{style:{padding:'2rem'}},React.createElement(\"div\",{style:{backgroundColor:'grey',height:'2rem',display:'flex',justifyContent:'center',alignItems:'center'}},\" \",React.createElement(\"h4\",null,\"SORT BY\")),React.createElement(\"div\",{style:{backgroundColor:'grey',height:'5rem',display:'flex',justifyContent:'center',alignItems:'center'}},React.createElement(\"div\",{style:somemargin},React.createElement(\"div\",null,\"Age\"),React.createElement(\"input\",{type:\"radio\",name:\"sortBy\",value:\"age\",checked:this.state.sortBy==='age',onChange:this.onChange})),React.createElement(\"div\",{style:somemargin},React.createElement(\"div\",null,\"Distance\"),React.createElement(\"input\",{type:\"radio\",name:\"sortBy\",value:\"location\",checked:this.state.sortBy==='location',onChange:this.onChange})),React.createElement(\"div\",{style:somemargin},React.createElement(\"div\",null,\"Tags\"),React.createElement(\"input\",{type:\"radio\",name:\"sortBy\",value:\"tags\",checked:this.state.sortBy==='tags',onChange:this.onChange})),React.createElement(\"div\",{style:somemargin},React.createElement(\"div\",null,\"Fame\"),React.createElement(\"input\",{type:\"radio\",name:\"sortBy\",value:\"fame\",checked:this.state.sortBy==='fame',onChange:this.onChange})))),React.createElement(ResultUser,{users:filteredUsers}))))),React.createElement(Footer,null));}}]);return Home;}(React.Component);var somemargin={textAlign:'center',width:'24%'};var state=function state(_state){var ownProps=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return{fetchAllUsersPublicData:_state.fetchAllUsersPublicData.fetchAllUsersPublicData,location:_state.location,getUserInterests:_state.getUserInterests.getUserInterests};};var mapDispatchToProps=function mapDispatchToProps(dispatch,ownProps){return{navigateTo:function navigateTo(location){dispatch(push(location));},onGetUserIntrests:function onGetUserIntrests(userId){return dispatch(GetUserIntrests(userId));},onfetchAllUsersPublicData:function onfetchAllUsersPublicData(filter){return dispatch(fetchAllUsersPublicData(filter));}};};export default connect(state,mapDispatchToProps)(Home);","map":{"version":3,"sources":["/home/abn/my-projects/matcha-42/frontend/src/components/pages/Dashboard/Home.js"],"names":["React","Header","Sidebar","Footer","SearchBar","ResultUser","connect","push","fetchAllUsersPublicData","io","sort","GetUserIntrests","Home","props","onChange","e","console","log","target","value","name","preventDefault","setState","setTimeout","filterUsers","state","sortBy","initialUsers","interestsArray","userBuffer","bind","onfetchAllUsersPublicData","userId","localStorage","getItem","onGetUserIntrests","users","interests","nextProps","getUserInterests","undefined","code","initInterestArray","data","initUsers","buffer","asc","u","distance","tags","forEach","element","newbuffer","tagfromlist","taguser","filteredUsers","padding","backgroundColor","height","display","justifyContent","alignItems","somemargin","Component","textAlign","width","ownProps","location","mapDispatchToProps","dispatch","navigateTo","filter"],"mappings":"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","sourcesContent":["\nimport React from \"react\";\nimport Header from '../../common/Header';\nimport Sidebar from '../../common/SideBar';\nimport Footer from '../../common/Footer';\nimport SearchBar from './SearchBar';\nimport ResultUser from './ResultUser';\nimport { connect } from \"react-redux\";\nimport { push } from \"react-router-redux\";\nimport { fetchAllUsersPublicData } from '../../../store/actions/UsersActions/fetchAllUsersPublicDataAction';\nimport io from 'socket.io-client';\nimport sort from 'fast-sort';\nimport { GetUserIntrests } from '../../../store/actions/intrestsActions/GetAllInterestsAction';\n\nclass Home extends React.Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            sortBy: 'age',\n            initialUsers: [],\n            interestsArray: [],\n            userBuffer: []\n        }\n\n        this.onChange = this.onChange.bind(this);\n        this.filterUsers = this.filterUsers.bind(this);\n    }\n\n    async UNSAFE_componentWillMount() {\n        await this.props.onfetchAllUsersPublicData([]);\n        const userId = localStorage.getItem(\"userId\");\n        await this.props.onGetUserIntrests(userId);\n    }\n\n    onChange = async (e) => {\n        console.log(e.target.value);\n        if (e.target.name !== 'sortBy'){\n            e.preventDefault();\n        }         \n        this.setState({ [e.target.name]: e.target.value })\n\n        setTimeout(async () => {\n            await this.filterUsers();\n        }, 50);\n        // await this.filterUsers();\n        // console.log(this.state[e.target.name]);\n\n    }\n\n    initUsers(users) {\n        this.setState({\n            initialUsers: users,\n            userBuffer: users\n        });\n    }\n\n    initInterestArray(interests) {\n        this.setState({\n            interestsArray: interests\n        })\n    }\n\n    UNSAFE_componentWillReceiveProps(nextProps) {\n        if (nextProps.getUserInterests !== undefined && nextProps.getUserInterests.code === 200)\n        this.initInterestArray(nextProps.getUserInterests.data)\n        if (nextProps.fetchAllUsersPublicData !== undefined && nextProps.fetchAllUsersPublicData.code === 200)\n            this.initUsers(nextProps.fetchAllUsersPublicData.data);\n    }\n\n\n    async filterUsers () {\n\n        let buffer = [];\n        buffer = this.state.initialUsers;\n        // console.log(buffer);\n\n        //SORT\n        //sort by fame and age\n        if (this.state.sortBy === 'fame' || this.state.sortBy === 'age'){\n            buffer = sort(buffer).asc(u => u[this.state.sortBy]);\n            console.log(buffer);\n            this.setState({\n                userBuffer: buffer\n            })\n        //sort by distance\n        } else if(this.state.sortBy === 'location') {\n            buffer = sort(buffer).asc(u => u.distance);\n            // console.log(buffer);\n            this.setState({\n                userBuffer: buffer\n            })\n        //sort by tags\n        } else if (this.state.sortBy === 'tags') {\n            //on a une liste de tags.\n            //on veut que les utilisateurs qui ont le premier element de la liste de tags arrive en premier puis les deuxieme arrive ensuite\n            var tags = [];\n            if (this.state.interestsArray !== null){\n                this.state.interestsArray.forEach(element => {\n                    tags.push(element.value);\n                });\n            }\n            var newbuffer = [];\n            tags.forEach(tagfromlist => {\n                buffer.forEach(element => {\n                    element.tags.forEach(taguser => {\n                        if(taguser === tagfromlist) {\n                            newbuffer.push(element);\n                        }\n                    });\n                });\n            });\n            // console.log(buffer);\n            buffer = newbuffer;\n            this.setState({\n                userBuffer: buffer\n            })\n        }\n    }\n\n    render() {\n        let filteredUsers = this.state.userBuffer;\n        return (\n            <div>\n                <Header />\n                <Sidebar />\n                <div>\n                    <div className=\"content-wrapper\">\n                        <section className=\"content\">\n\n                            <section className=\"content\">\n                                <br />\n                                <SearchBar />\n                                <div style={{ padding: '2rem' }}>\n                                    <div style={{ backgroundColor: 'grey', height: '2rem', display: 'flex', justifyContent: 'center', alignItems: 'center' }}> <h4>SORT BY</h4></div>\n                                    <div style={{ backgroundColor: 'grey', height: '5rem', display: 'flex', justifyContent: 'center', alignItems: 'center' }}>\n                                        <div style={somemargin}>\n                                            <div>Age</div>\n                                            <input type=\"radio\" name=\"sortBy\" value=\"age\" checked={this.state.sortBy === 'age'} onChange={this.onChange} />\n                                        </div>\n                                        <div style={somemargin}>\n                                            <div>Distance</div>\n                                            <input type=\"radio\" name=\"sortBy\" value=\"location\" checked={this.state.sortBy === 'location'} onChange={this.onChange} />\n                                        </div>\n                                        <div style={somemargin}>\n                                            <div>Tags</div>\n                                            <input type=\"radio\" name=\"sortBy\" value=\"tags\" checked={this.state.sortBy === 'tags'} onChange={this.onChange} />\n                                        </div>\n                                        <div style={somemargin}>\n                                            <div>Fame</div>\n                                            <input type=\"radio\" name=\"sortBy\" value=\"fame\" checked={this.state.sortBy === 'fame'} onChange={this.onChange} />\n                                        </div>\n                                    </div>\n                                </div>\n                                <ResultUser users={filteredUsers} />\n\n                            </section>\n\n\n                        </section>\n                    </div>\n                </div>\n                <Footer />\n            </div>\n\n        );\n    }\n}\n\nconst somemargin = { textAlign: 'center', width: '24%'}\n\nconst state = (state, ownProps = {}) => {\n    return {\n        fetchAllUsersPublicData: state.fetchAllUsersPublicData.fetchAllUsersPublicData,\n        location: state.location,\n        getUserInterests: state.getUserInterests.getUserInterests,\n    }\n}\n\nconst mapDispatchToProps = (dispatch, ownProps) => {\n    return {\n        navigateTo: (location) => {\n            dispatch(push(location));\n        },\n        onGetUserIntrests: (userId) => dispatch(GetUserIntrests(userId)),\n        onfetchAllUsersPublicData: (filter) => dispatch(fetchAllUsersPublicData(filter))\n    }\n};\n\nexport default connect(state, mapDispatchToProps)(Home);\n"]},"metadata":{},"sourceType":"module"}