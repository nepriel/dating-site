{"ast":null,"code":"var _jsxFileName = \"/usr/src/app/src/components/pages/Dashboard/SearchBar.js\";\nimport React, { Component } from 'react';\nimport Select from 'react-select';\nimport { GetUserIntrests } from '../../../store/actions/intrestsActions/GetAllInterestsAction';\nimport { connect } from \"react-redux\";\nimport { push } from \"react-router-redux\";\nimport Slider from 'rc-slider';\nimport { fetchAllUsersPublicData } from '../../../store/actions/UsersActions/fetchAllUsersPublicDataAction';\nimport { getUserLocation } from '../../../store/actions/UsersActions/GetUserLocationAction';\nconst Range = Slider.Range;\nexport class SearchBar extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onLowerBoundChange = e => {\n      this.setState({\n        lowerBound: +e.target.value\n      });\n    };\n\n    this.onUpperBoundChange = e => {\n      this.setState({\n        upperBound: +e.target.value\n      });\n    };\n\n    this.onSliderChange = value => {\n      this.setState({\n        value\n      });\n    };\n\n    this.handleApply = () => {\n      const _this$state = this.state,\n            lowerBound = _this$state.lowerBound,\n            upperBound = _this$state.upperBound;\n      this.setState({\n        value: [lowerBound, upperBound]\n      });\n    };\n\n    this.handleSelectChange = selectedOption => {\n      this.setState({\n        selectedOption\n      });\n    };\n\n    this.onChange = e => {\n      e.preventDefault();\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.state = {\n      lowerBound: 20,\n      upperBound: 40,\n      value: [20, 40],\n      SearchBar: '',\n      rangeFame: 0,\n      rangeLocalisation: 20,\n      SearchBarTags: '',\n      interestsArray: [],\n      selectedOption: [],\n      location: \"\"\n    };\n    this.handleUsersFilter = this.handleUsersFilter.bind(this);\n    this.onChange = this.onChange.bind(this);\n    this.handleSelectChange = this.handleSelectChange.bind(this);\n  }\n\n  async handleUsersFilter(e) {\n    e.preventDefault();\n    let filter = [{\n      userPos: this.state.location,\n      rangeFame: this.state.rangeFame,\n      age: this.state.value,\n      interests: this.state.selectedOption,\n      rangeLocalisation: parseInt(this.state.rangeLocalisation)\n    }];\n    await this.props.onfetchAllUsersPublicData(filter);\n  }\n\n  async UNSAFE_componentWillMount() {\n    const userId = localStorage.getItem(\"userId\");\n    await this.props.onGetUserIntrests(userId);\n    await this.props.onGetUserLocation();\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    if (nextProps.getUserInterests !== undefined && nextProps.getUserInterests.code === 200) this.initInterestArray(nextProps.getUserInterests.data);\n\n    if (this.state.location === \"\" && nextProps.locateUser !== \"\") {\n      this.setState({\n        location: nextProps.locateUser\n      });\n    }\n  }\n\n  initInterestArray(interests) {\n    this.setState({\n      interestsArray: interests\n    });\n  }\n\n  render() {\n    // const {valuesearchBar, valuerangeAgeFrom, valuerangeAgeTo, valuerangeFame, valuerangeLocalisation } = this.state;\n    return React.createElement(\"form\", {\n      style: {\n        'marginBottom': '2rem'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"\",\n      style: {\n        display: 'flex',\n        'justifyContent': 'space-around'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"\",\n      style: filterStyle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, \"Age\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, \"from \", this.state.value[0], \" to \", this.state.value[1]), React.createElement(Range, {\n      allowCross: false,\n      value: this.state.value,\n      onChange: this.onSliderChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }), React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, \"Fame\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, \"search users above \", this.state.rangeFame, \" Fame\"), React.createElement(\"input\", {\n      type: \"range\",\n      className: \"custom-range\",\n      id: \"rangeFame\",\n      name: \"rangeFame\",\n      min: \"0\",\n      max: \"100\",\n      value: this.state.rangeFame,\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"input-group-btn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: e => {\n        this.handleUsersFilter(e);\n      },\n      type: \"Search\",\n      className: \"btn btn-primary btn-block\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, \"Search\"))), React.createElement(\"div\", {\n      className: \"\",\n      style: filterStyle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, \"Localisation\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, \"search users \", this.state.rangeLocalisation, \"km\", \"\".concat(this.state.rangeLocalisation > 1 ? 's' : ''), \" from you\"), React.createElement(\"input\", {\n      type: \"range\",\n      className: \"custom-range\",\n      id: \"rangeLocalisation\",\n      name: \"rangeLocalisation\",\n      min: \"1\",\n      max: \"20000\",\n      value: this.state.rangeLocalisation,\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }), React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, \"Select Interests\"), React.createElement(Select, {\n      isMulti: true,\n      isSearchable: true,\n      placeholder: \"Select your interests\",\n      value: this.state.selectedOption,\n      onChange: this.handleSelectChange,\n      options: this.state.interestsArray,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }))));\n  }\n\n}\nconst filterStyle = {\n  width: '45%',\n  float: 'left',\n  padding: '1rem',\n  'backgroundColor': 'lightgray',\n  'marginTop': '2rem'\n};\n\nconst state = (state, ownProps = {}) => {\n  return {\n    fetchAllUsersPublicData: state.fetchAllUsersPublicData.fetchAllUsersPublicData,\n    getUserInterests: state.getUserInterests.getUserInterests,\n    location: state.location,\n    locateUser: state.locateUser.locateUser\n  };\n};\n\nconst mapDispatchToProps = (dispatch, ownProps) => {\n  return {\n    navigateTo: location => {\n      dispatch(push(location));\n    },\n    onGetUserIntrests: userId => dispatch(GetUserIntrests(userId)),\n    onfetchAllUsersPublicData: filter => dispatch(fetchAllUsersPublicData(filter)),\n    onGetUserLocation: () => dispatch(getUserLocation())\n  };\n};\n\nexport default connect(state, mapDispatchToProps)(SearchBar);","map":{"version":3,"sources":["/usr/src/app/src/components/pages/Dashboard/SearchBar.js"],"names":["React","Component","Select","GetUserIntrests","connect","push","Slider","fetchAllUsersPublicData","getUserLocation","Range","SearchBar","constructor","props","onLowerBoundChange","e","setState","lowerBound","target","value","onUpperBoundChange","upperBound","onSliderChange","handleApply","state","handleSelectChange","selectedOption","onChange","preventDefault","name","rangeFame","rangeLocalisation","SearchBarTags","interestsArray","location","handleUsersFilter","bind","filter","userPos","age","interests","parseInt","onfetchAllUsersPublicData","UNSAFE_componentWillMount","userId","localStorage","getItem","onGetUserIntrests","onGetUserLocation","UNSAFE_componentWillReceiveProps","nextProps","getUserInterests","undefined","code","initInterestArray","data","locateUser","render","display","filterStyle","width","float","padding","ownProps","mapDispatchToProps","dispatch","navigateTo"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport Select from 'react-select';\nimport { GetUserIntrests } from '../../../store/actions/intrestsActions/GetAllInterestsAction';\nimport { connect } from \"react-redux\";\nimport { push } from \"react-router-redux\";\nimport Slider from 'rc-slider';\nimport { fetchAllUsersPublicData } from '../../../store/actions/UsersActions/fetchAllUsersPublicDataAction';\nimport { getUserLocation } from '../../../store/actions/UsersActions/GetUserLocationAction';\n\nconst Range = Slider.Range;\n\nexport class SearchBar extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            lowerBound: 20,\n            upperBound: 40,\n            value: [20, 40],\n            SearchBar: '',\n            rangeFame: 0,\n            rangeLocalisation: 20,\n            SearchBarTags: '',\n            interestsArray: [],\n            selectedOption: [],\n            location: \"\"\n        }\n\n        this.handleUsersFilter = this.handleUsersFilter.bind(this);\n        this.onChange = this.onChange.bind(this);\n        this.handleSelectChange = this.handleSelectChange.bind(this);\n    }\n\n\n    async handleUsersFilter(e) {\n        e.preventDefault();\n        let filter = [{\n            userPos: this.state.location,\n            rangeFame: this.state.rangeFame,\n            age: this.state.value,\n            interests: this.state.selectedOption,\n            rangeLocalisation: parseInt(this.state.rangeLocalisation)\n        }]\n\n        await this.props.onfetchAllUsersPublicData(filter);\n    }\n\n    onLowerBoundChange = (e) => {\n        this.setState({ lowerBound: +e.target.value });\n    }\n    onUpperBoundChange = (e) => {\n        this.setState({ upperBound: +e.target.value });\n    }\n    onSliderChange = (value) => {\n        this.setState({\n            value,\n        });\n    }\n    handleApply = () => {\n        const { lowerBound, upperBound } = this.state;\n        this.setState({ value: [lowerBound, upperBound] });\n    }\n\n    async UNSAFE_componentWillMount() {\n        const userId = localStorage.getItem(\"userId\");\n        await this.props.onGetUserIntrests(userId);\n        await this.props.onGetUserLocation();\n    }\n\n    UNSAFE_componentWillReceiveProps(nextProps) {\n        if (nextProps.getUserInterests !== undefined && nextProps.getUserInterests.code === 200)\n            this.initInterestArray(nextProps.getUserInterests.data)\n        if (this.state.location === \"\" && nextProps.locateUser !== \"\"){\n            this.setState({\n                location: nextProps.locateUser \n                })\n        }\n    }\n\n    handleSelectChange = selectedOption => {\n        this.setState(\n            { selectedOption },\n        );\n    };\n\n    initInterestArray(interests) {\n        this.setState({\n            interestsArray: interests\n        })\n    }\n\n    onChange = (e) => {\n        e.preventDefault();\n        this.setState({ [e.target.name]: e.target.value })\n    }\n\n    render() {\n        // const {valuesearchBar, valuerangeAgeFrom, valuerangeAgeTo, valuerangeFame, valuerangeLocalisation } = this.state;\n        return (\n            <form style={{ 'marginBottom': '2rem' }}>\n                <div className=\"\" style={{ display: 'flex', 'justifyContent': 'space-around' }}>\n                    <div className=\"\" style={filterStyle}>\n                        <h4>Age</h4>\n                        <p>from {this.state.value[0]} to {this.state.value[1]}</p>\n                        {/* <p>from {this.state.rangeAgeFrom} years old</p>\n                        <input type=\"range\" className=\"custom-range\" id=\"rangeAgeFrom\" name=\"rangeAgeFrom\" min=\"18\" max=\"79\" value={this.state.rangeAgeFrom} onChange={this.onChange} />\n                        <p>to {this.state.rangeAgeTo} years old</p>\n                        <input type=\"range\" className=\"custom-range\" id=\"rangeAgeTo\" name=\"rangeAgeTo\" min=\"19\" max=\"80\" value={this.state.rangeAgeTo} onChange={this.onChange} /> */}\n                        <Range allowCross={false} value={this.state.value} onChange={this.onSliderChange} />\n\n                        <h4>Fame</h4>\n                        <p>search users above {this.state.rangeFame} Fame</p>\n                        <input type=\"range\" className=\"custom-range\" id=\"rangeFame\" name=\"rangeFame\" min=\"0\" max=\"100\" value={this.state.rangeFame} onChange={this.onChange} />\n                        <hr></hr>\n                        <span className=\"input-group-btn\">\n                            <button onClick={(e) => { this.handleUsersFilter(e) }} type=\"Search\" className=\"btn btn-primary btn-block\">Search</button>\n                        </span>\n                    </div>\n                    <div className=\"\" style={filterStyle}>\n                        <h4>Localisation</h4>\n                        <p>search users {this.state.rangeLocalisation}km{`${this.state.rangeLocalisation > 1 ? 's' : ''}`} from you</p>\n                        <input type=\"range\" className=\"custom-range\" id=\"rangeLocalisation\" name=\"rangeLocalisation\" min=\"1\" max=\"20000\" value={this.state.rangeLocalisation} onChange={this.onChange} />\n                        <h4>Select Interests</h4>\n                            <Select\n                                isMulti\n                                isSearchable\n                                placeholder=\"Select your interests\"\n                                value={this.state.selectedOption}\n                                onChange={this.handleSelectChange}\n                                options={this.state.interestsArray}\n                            />\n                    </div>\n\n                </div>\n            </form>\n        )\n    }\n}\n\nconst filterStyle = {\n    width: '45%',\n    float: 'left',\n    padding: '1rem',\n    'backgroundColor': 'lightgray',\n    'marginTop': '2rem'\n};\n\n\nconst state = (state, ownProps = {}) => {\n    return {\n        fetchAllUsersPublicData: state.fetchAllUsersPublicData.fetchAllUsersPublicData,\n        getUserInterests: state.getUserInterests.getUserInterests,\n        location: state.location,\n        locateUser: state.locateUser.locateUser,\n    }\n}\n\nconst mapDispatchToProps = (dispatch, ownProps) => {\n    return {\n        navigateTo: (location) => {\n            dispatch(push(location));\n        },\n        onGetUserIntrests: (userId) => dispatch(GetUserIntrests(userId)),\n        onfetchAllUsersPublicData: (filter) => dispatch(fetchAllUsersPublicData(filter)),\n        onGetUserLocation: () => dispatch(getUserLocation())\n    }\n};\n\nexport default connect(\n    state,\n    mapDispatchToProps\n)(SearchBar);"]},"metadata":{},"sourceType":"module"}